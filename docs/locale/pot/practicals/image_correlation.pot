# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, PSF TelRiskNat Optical team (D. Cusicanqui, P. Lacroix & R. Basantes)
# This file is distributed under the same license as the PSF TelRiskNat 2025 package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PSF TelRiskNat 2025 \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-09 07:09+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../source/practicals/image_correlation.rst:14
#: 5ced3e08c6a9495597592b2aaeb6c82a
msgid "Feature tracking image correlation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:24
#: 6405868cb57f4080844146902c98bf48
msgid "**Diego CUSICANQUI**\\ :sup:`1` & **Pascal LACROIX**\\ :sup:`1`"
msgstr ""

#: ../../source/practicals/image_correlation.rst:26
#: 5e4c24fed95e40f99ecb7198bdf9639b
msgid "\\ :sup:`1` Univ. Grenoble Alpes, CNES, CNRS, IRD, Institut des Sciences de la Terre (ISTerre), Grenoble, France."
msgstr ""

#: ../../source/practicals/image_correlation.rst:30
#: 84e0970e3134416dbd00e7c3a86b8b44
msgid "Copyright"
msgstr ""

#: ../../source/practicals/image_correlation.rst:32
#: 8deded9f7c914305b3094d47873a370a
msgid "*Document version 0.2, Last update: 2025-09-18*"
msgstr ""

#: ../../source/practicals/image_correlation.rst:34
#: 09942f7373da4900a7dc0062ec9ead81
msgid "|copy| *PSF TelRIskNat 2025 Optical team (D. Cusicanqui, R. Basantes & P. Lacroix)*. This document and its contents are licensed under the Creative Commons Attribution 4.0 International License (`CC BY-NC-SA 4.0 <https://creativecommons.org/licenses/by-nc-sa/4.0/>`_)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:37
#: 31073eaa83284f0bacad1a6fb1b0cca8
msgid "License: CC BY-NC-SA 4.0"
msgstr ""

#: ../../source/practicals/image_correlation.rst:45
#: 9f5b36125dde4f4f8cd13039ddd08e6b
msgid "Learning objectives:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:47
#: d4bd267483d146b29854875728173d62
msgid "Understand the principles of image correlation for measuring surface displacements."
msgstr ""

#: ../../source/practicals/image_correlation.rst:48
#: 5594d57a68244d27992e2fdc147a44a5
msgid "Learn how to apply image correlation techniques using the ASP software."
msgstr ""

#: ../../source/practicals/image_correlation.rst:49
#: 2fbdf586588642aca7f8166f5f8cb1a2
msgid "Analyze and interpret displacement fields obtained from image correlation."
msgstr ""

#: ../../source/practicals/image_correlation.rst:51
#: ../../source/practicals/image_correlation.rst:71
#: ../../source/practicals/image_correlation.rst:161
#: ../../source/practicals/image_correlation.rst:194
#: e004742dbcfd44abbaae2a5ea48c617a
#: 5f8bc15bfdef4a67b6c2e9e32de0dd14
#: 9b2ae886ef6241a990901ec54acc5acf
#: 3c1ee005f9874f4d92aa4f3b5b7e1892
msgid "Note"
msgstr ""

#: ../../source/practicals/image_correlation.rst:52
#: fe0d45080db945aebbdff32a24c7e09e
msgid "This exercise focuses on optical remote sensing data from different sensors at different spatial resolution i.e. Planet (3m) or Sentinel2 (10m) or LandSat8 (15m). These remote sensing datasets have the greatest advantages of being **free and available worldwide**. For this practice, we will focus in the **Maca Landslide** in Peru using PlanetScope data."
msgstr ""

#: ../../source/practicals/image_correlation.rst:56
#: d5abf80a845149d2a823d9801ee563c3
msgid "1. INTRODUCTION"
msgstr ""

#: ../../source/practicals/image_correlation.rst:58
#: b6d4399b339e45b6964e7188fe48d24b
msgid "Landslides are a major threat in most mountainous areas of the world, causing  nearly 10000 casualties every year. It has been observed that landslides can be preceded by a phase of acceleration, emphasising the interest in detecting slow ground-movements and monitoring their evolution through time. Knowing how the ground moves is essential to understanding the physical mechanisms controlling movement :cite:`lacroix2019`. Landslide displacement can be measured from space by two techniques: first, by Interferometric Synthetic Aperture Radar (InSAR) and then, by feature-tracking image correlation applied either to SAR or optical images :numref:`fig_surf_disp_optic_sar`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:60
#: d1ea83cbbd294037a39607c3c5c71b54
msgid "On one hand, surface deformation obtained from InSAR is now being used to measure very small displacements (e.g., < 1 cm) and detect new unstable zones. Although this technique offers the possibility to map very large areas (up to 400 km for Sentinel-1), this kind of data has a complex data processing and encounters different limitations related with the unwrapping of the signal that makes it not fully adapted to small objects like landslides or fast objects like glaciers :cite:`garcia2024`. On the other hand, optical image correlation is an appropriate technique for monitoring large displacements or long-term displacements of small objects :cite:`cusicanqui2021_JGRES`. Although freely available data exist worldwide (Section 2), the main limitations for this data are the presence of snow at the surface, clouds and strong changes in contrast caused by shadows. These two techniques have become the main means of studying natural hazards that produce deformations of the earth's surface on different spatio-temporal scales :cite:`zhu2022`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:64
#: a78f126885e54bf4bc3a26d7b8bfaaf3
msgid "Domain of applicability of different techniques and satellite data"
msgstr ""

#: ../../source/practicals/image_correlation.rst:69
#: a9d966e5442940938e6ecbbc36181da7
msgid "Domain of applicability of different techniques and satellite data as a function of the landslide size and velocity :cite:`lacroix2020` ."
msgstr ""

#: ../../source/practicals/image_correlation.rst:72
#: 07bc56084dc54b73ad98c6883806191c
msgid "In this practice, we will focus only on optical remote sensing data, at different resolutions."
msgstr ""

#: ../../source/practicals/image_correlation.rst:75
#: 25187bd6d5b841bf8738aa5e98f35d39
msgid "2. REMOTE SENSING DATA"
msgstr ""

#: ../../source/practicals/image_correlation.rst:77
#: 0de96e52efdd4729979fc07d7a92fda1
msgid "There are several possibilities to get freely available optical remote sensing data and many online services which offer access to the data worldwide. In this practice, we won't cover all possible sources, but rather the most popular ones (i.e. Landsat 5/7/8, Sentinel-2 and Planet). For a comprehensive introduction you can see the `Spatialpost <https://www.spatialpost.com/free-satellite-imagery/>` webpage."
msgstr ""

#: ../../source/practicals/image_correlation.rst:80
#: 8762b60cc53041a284373e12bccca40f
msgid "2.1 Landsat 4/5/7/8 legacy"
msgstr ""

#: ../../source/practicals/image_correlation.rst:82
#: 23ca31569d5a45d78f9b0a904413c7a8
msgid "The landsat program has been mapping earth since the early ~1970's until now. Landsat satellites have continuously acquired space-based images of the Earth's land surface, providing uninterrupted data to help land managers and policymakers make informed decisions about our natural resources and the environment. From a general point of view, this enormous dataset covers earth surface worldwide with a relatively medium spatial resolution 30 m and 15 m for multispectral and panchromatic bands, respectively. Landsat legacy has also a very good radiometric resolution between 5 to 11 bands depending on the landsat mission, as well as a good temporal resolution, one image each 16 days at equator and 2-3 days in the north pole. Landsat tiles cover a large spatial extent, with a 185 kilometres wide footprint. more information on `USGS-landsat mission <https://www.usgs.gov/landsat-missions/landsat-satellite-missions>`_ webpage."
msgstr ""

#: ../../source/practicals/image_correlation.rst:84
#: f04c0aabaf33472cb1d1bf975c1f03c1
msgid "Accessing LandSat7/8 data (Since 1999, 15m resolution, 16 days revisit time) could be possible though the following links:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:87
#: 0f1cc82fb7dc43e1ae8ef35665c56539
msgid "`USGS Earth Explorer <https://earthexplorer.usgs.gov/>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:88
#: ef8c935aa0204652b5acf7aa488ad5ca
msgid "`Landsat look <https://landsatlook.usgs.gov/viewer.html>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:91
#: 0fe27077f5c149808fa31dfec7a7f8dd
msgid "2.2 Sentinel-2"
msgstr ""

#: ../../source/practicals/image_correlation.rst:93
#: ee186ab49cd64842b37c3f6346dddf2a
msgid "The Copernicus SENTINEL-2 mission comprises a constellation of two polar-orbiting satellites placed in the same sun-synchronous orbit, phased at 180Â° to each other. It aims at monitoring variability in land surface conditions, and its wide swath width (290 km) and high revisit time (10 days at the equator with one satellite, and 5 days with 2 satellites under cloud-free conditions which results in 2-3 days at mid-latitudes) will support monitoring of Earth's surface changes. More technical information though `Copernicus Sentinel-2 <https://www.esa.int/Applications/Observing_the_Earth/Copernicus/Sentinel-2>`_ program."
msgstr ""

#: ../../source/practicals/image_correlation.rst:95
#: 80b8fb10be5541dba53ca628ce9ad737
msgid "Accessing Sentinel-2 data (since December 2015, 10m resolution, 5 days revisit time) could be possible though the following links:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:98
#: abbb8a9b13854e13881ae9d77e8189ec
msgid "`Copernicus Open Access Hub <https://dataspace.copernicus.eu/data-collections/copernicus-sentinel-data/sentinel-2>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:101
#: 6b0d1057e48f4f59843bbb8dc92be649
msgid "2.3 PlanetScope"
msgstr ""

#: ../../source/practicals/image_correlation.rst:103
#: f1be0042b4ab400190f599cab5823e4d
msgid "PlanetScope, operated by Planet, is a constellation of approximately 130 satellites, able to image the entire land surface of the Earth every day (a daily collection capacity of 200 million kmÂ²/day, :numref:`fig_planetscope_revisit_time`). PlanetScope images are approximately 3 metres per pixel resolution with 4 spectral bands Blue, Green, Red and IR bands. The data can be downloaded for free, within a certain quota, on the `Planetscope <https://docs.planet.com/data/imagery/planetscope/>`_ website."
msgstr ""

#: ../../source/practicals/image_correlation.rst:105
#: 80f711ac71954816a38730f1adc4dfc8
msgid "Accessing Planet data (Since ~2016, 3m resolution, ~1day revisit time):"
msgstr ""

#: ../../source/practicals/image_correlation.rst:108
#: 06e7bc93d6394c68aee39390246ba38d
msgid "`Planet Explorer <https://www.planet.com/explorer/>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:112
#: c7dcff5c63bb4e3a8db32422c0fba4aa
msgid "PlanetScope constellation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:117
#: 1fbb35db5e774878bbdb83bf7f49d495
msgid "Average revisit time between 2 Planet acquisitions (2019-2020), :cite:`roy2021`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:120
#: 1f958631898041a084154a86d74561d9
msgid "3. PRACTICE"
msgstr ""

#: ../../source/practicals/image_correlation.rst:123
#: 6b3036111eab43e6833315e28bc1c440
msgid "3.1. About the study site - Maca Landslide, Peru"
msgstr ""

#: ../../source/practicals/image_correlation.rst:125
#: b928a05c04fe4ff7b8302b055e353675
msgid "The `Maca landslide <https://goo.gl/maps/LnyEkErxexKkSHRW8>`_ :numref:`fig_maca_landslide` is situated in the Colca valley in Peru which is a wide depression filled with lacustrine sediments deposited over the last 1M yr, after a major debris avalanche coming from the âHualca Hualcaâ volcanic complex dammed the valley. After the breaching of the dam, Colca river started to incise the soft clayey sediments and initiated landsliding in the whole area. Its historical activity can be traced back to the 1980's, when the Lari landslide pushed the river down to the Maca side, and started to erode the Maca side. Several large reactivation occurred in 1990's, 2000's, 2012-2013, and 2019-2020 :cite:`lacroix2019`, :cite:`zerathe2016`, :cite:`bontemps2018`. Examples for this practice will be taken during the last stage of reactivation, which produced major damages."
msgstr ""

#: ../../source/practicals/image_correlation.rst:129
#: 7271b917b5274b76bb669ec2bc793900
msgid "Maca Landslide"
msgstr ""

#: ../../source/practicals/image_correlation.rst:134
#: e6f2b61bddb341e0baef4652c0e0d206
msgid "Picture of the Maca landslide."
msgstr ""

#: ../../source/practicals/image_correlation.rst:136
#: 3bb5c23fed954a478ba68a979b2a1dec
msgid "For this practice, landslide motion will be retrieved from correlation of optical images. The specific goal is to be able to produce maps such as the one shown in :numref:`fig_landslide_displacement`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:140
#: 4296ebf3e0024baba3b715f963d8f5f4
msgid "Maca Landslide Displacement"
msgstr ""

#: ../../source/practicals/image_correlation.rst:145
#: 3bf1cf9055d54cff9af02f7e13f727af
msgid "Surface displacement field of the Maca landslide between 2003 and 2013 :cite:`bontemps2018`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:148
#: 7d8e8f23a7e34e848a996254173b7494
msgid "3.1.1. Download PlanetScope data"
msgstr ""

#: ../../source/practicals/image_correlation.rst:150
#: 07fdeec547fd43aeae03fce5b88a3ad1
msgid "Log on the `Planet server <https://www.planet.com/explorer/>`_, select your area of interest (not too large, typically 4x3km, that includes the landslide and stable areas) and download at least 2 images (you can even select one per year 2017-2022), taken at the same season, without clouds. If possible select images that are not a mosaic of several images but only one single image. The image download is done with the âorder scenesâ blue button at the bottom left of the browser ::numref:`fig_planet_download`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:154
#: 88f5bfd091f14d5b872886e223a886c0
msgid "Planet download"
msgstr ""

#: ../../source/practicals/image_correlation.rst:159
#: 5c8008ed4dbe44cb88fc2375a2d6806a
msgid "Planet download interface centered on Maca landslide."
msgstr ""

#: ../../source/practicals/image_correlation.rst:162
#: 1d3b8bdc37f141659cfcf0a6d70e14ce
msgid "Since the activation of the Planet account could take long-time, for this practice we already provide a set of images."
msgstr ""

#: ../../source/practicals/image_correlation.rst:164
#: 3f9933541a4f4b7aa2865cd338a55726
msgid "Now, open two images (those furthest back in time, 2018-2022). Open both images by clicking on ``Layer -> Add Raster Layer`` play with them by turning them on and off."
msgstr ""

#: ../../source/practicals/image_correlation.rst:166
#: ../../source/practicals/image_correlation.rst:265
#: ../../source/practicals/image_correlation.rst:407
#: ../../source/practicals/image_correlation.rst:463
#: 0788e6fc62c1494a8a4433afb7b81b35
#: 6dea72e39e824ce2ae62872ad09feded
#: 753142ff69964e68b7f0cc4ca1f6092a
#: 3b3ba77f08ac454ab7f3b6b8d1c376cd
msgid "Questions for discussion"
msgstr ""

#: ../../source/practicals/image_correlation.rst:169
#: ed05ead850254def82eb64c602272905
msgid "Can you tell if the landslide faced any changes during your period of study?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:170
#: 7be6c7a07a744ecd90d3726b38ea3db5
msgid "Are you able to track any displacement by eye?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:173
#: 494de860c34844c9a03b5a028ffeea99
msgid "3.2. About surface displacements and image correlation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:175
#: 7a051c4d12be438f87bd9f0fd61a8f9e
msgid "Surface displacements are defined as the movement of the ground surface between two dates. They can be measured in different ways, either in-situ (e.g., GNSS, total station, extensometer, etc.) or remotely (e.g., optical or SAR image correlation, InSAR, LiDAR, etc.). In this practice we will focus on surface displacements measured from optical image correlation."
msgstr ""

#: ../../source/practicals/image_correlation.rst:177
#: 19e371b1a0ad4dbbbd6c071a405de018
msgid "Surface displacements from image correlation are obtained by tracking the translation of small, textured pixel windows between two accurately co-registered, orthorectified images acquired at different dates. A similarity metricâtypically normalized cross-correlationâyields sub-pixel offsets for each window; these offsets are converted to map-plane displacement vectors using pixel size. The method delivers dense 2-D horizontal motion fields (magnitude and direction), with uncertainty controlled by image texture, window size, co-registration accuracy, and radiometric changes :cite:`ayoub2008`. The main principle of image correlation is to divide the first image into small windows (or chips) and then search for the best matching window in the second image. However, modern softwares have implemented different strategies and algorithms to improve the accuracy, robustness and speed of the correlation process."
msgstr ""

#: ../../source/practicals/image_correlation.rst:179
#: ../../source/practicals/image_correlation.rst:188
#: ../../source/practicals/image_correlation.rst:223
#: ../../source/practicals/image_correlation.rst:292
#: ../../source/practicals/image_correlation.rst:501
#: b50874cc17dc4b8faa67979f6b577bed
#: 6df5bc49b6fe465fa87b240b679ca9de
#: a3a62dc395ce486d8b7523cce3a0c305
#: 8fdff7a9ad12444a948ebc07393bee36
#: 34bf277c02724131a630af38da8ef325
msgid "Important"
msgstr ""

#: ../../source/practicals/image_correlation.rst:180
#: 3ee9e9b990784900b1fda1ee7dae2cc4
msgid "For the following exercise we will use two different algorithms to compute surface displacements: (1) IMCORR (SAGA-QGIS) and (2) ASP. We propose to compare both algorithms and discuss their advantages and limitations."
msgstr ""

#: ../../source/practicals/image_correlation.rst:184
#: c87f97aa8bf548048c2f6a7aac3cc0eb
msgid "3.3. Compute surface displacements with IMCORR (SAGA-QGIS)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:186
#: a0919b9406b146528460c62c3b31972f
msgid "This first part of the exercise will be done using QGIS software with the SAGA plugin. This exercise can be done on any operating system (Windows, Linux or MacOS)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:190
#: 92e4aa2bec084875af2f61d340fb72a6
msgid "Download a pair of Planet images (2018-2021) over the Maca landslide using this `RENATER link <https://filesender.renater.fr/download.php?token=918a226e-0b42-4b88-93dc-f5025228d703&files_ids=60469767>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:192
#: 7d3ab3be5f5a481f95a9e495a2d56354
msgid "Once images loaded in QGIS, we will use the SAGA plugin to compute surface displacements with the IMCORR algorithm. If you don't have SAGA installed, please follow the instructions in the :ref:`install_qgis` section of the installation guide."
msgstr ""

#: ../../source/practicals/image_correlation.rst:195
#: 24f6902e70af49cd90274db26674c23c
msgid "IMCORR algorithm is on of the first image correlation algorithms developed in the early 90's :cite:`scambos1992`. It is now implemented in the SAGA GIS software and can be used through the QGIS interface. It has been widely used in glaciology to measure glacier surface displacements from optical images :cite:`scambos1992`. As this algorithm is no longer maintained, **we will use only for academic purposes**. It is therefore recommended to use more recent algorithms such as the one implemented in the ASP software (see :ref:`compute_surf_disp_asp`)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:199
#: 0b8ee39d0e0245158e77d99b688ee681
msgid "3.3.1. Prepare the images"
msgstr ""

#: ../../source/practicals/image_correlation.rst:201
#: fdf94256311f468fbd9fb4e581131791
msgid "IMCORR algorithm accepts **single band images** with the **same number of columns** (``width``) **and lines** (``height``). So, you will need to first extract the red band (band 3) from both Planet images and then clip them to the same extent. As this is a common processing step, we wont detail it here."
msgstr ""

#: ../../source/practicals/image_correlation.rst:203
#: ../../source/practicals/image_correlation.rst:239
#: ../../source/practicals/image_correlation.rst:460
#: ../../source/practicals/image_correlation.rst:481
#: f996e6a914864642ab16beea09a9910d
#: de6a496dac514bc1a60020f6f859798d
#: 5497e4212d8e482398999743aa49d58b
#: 7c1682f3dd4348f7b55f06a3a788b726
msgid "Tip"
msgstr ""

#: ../../source/practicals/image_correlation.rst:205
#: 778b7d8c8c8549c29f4f7e3c593a7ead
msgid "For extract single band, you can use ``GDAL -> Raster conversion -> Rearange bands`` within QGIS."
msgstr ""

#: ../../source/practicals/image_correlation.rst:206
#: 73a234e5fccf4ec680121692d955d57a
msgid "For clipping images you can use the ``Clip Raster by Extent`` tool in QGIS to clip both images to the same extent. Make sure to check the option ``Use Layer Extent`` and select one of your two images as the layer to define the extent."
msgstr ""

#: ../../source/practicals/image_correlation.rst:207
#: 93c908d4a88a439dbe11620eacae9abf
msgid "You can check the number of columns and lines of your images by right-clicking on the layer and selecting ``Properties -> Information`` tab."
msgstr ""

#: ../../source/practicals/image_correlation.rst:210
#: fbb68eae806940c7bdeac0582a120c59
msgid "3.3.2. Image correlation and outputs"
msgstr ""

#: ../../source/practicals/image_correlation.rst:212
#: ecb5464b659d47619ffdd7e6fbc94f35
msgid "Now, in the ``Processing Toolbox`` of QGIS, search for ``IMCORR`` and open the ``Image Correlation (IMCORR)`` tool. Fill the parameters as :numref:`fig_imcorr_parameters` and run the tool."
msgstr ""

#: ../../source/practicals/image_correlation.rst:216
#: 7946efff95f74edeab5c713e2b1dbb1e
msgid "IMCORR parameters"
msgstr ""

#: ../../source/practicals/image_correlation.rst:221
#: 12e3eb59a44c43e987baf2c4f8c3979d
msgid "IMCORR parameters in QGIS. 1 and 3) Input images (single band, same size), 2) ``IMCORR`` algorithm, 4) Correlation parameters (Search chip size, Reference chip size, Grid spacing)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:224
#: d75b6c4f81114550876fa5b047c905f9
msgid "The choice of the parameters is crucial to obtain good results. Here are some advices:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:226
#: 43a38678c50844c6b2d7bdf39b3b7fb9
msgid "``search chip size (pixels)``: Chip size of search chip, used to find correlating reference chips in the second image. A larger chip size will increase the chance of finding a match, but will also increase computation time. A typical value is 64x64 pixels."
msgstr ""

#: ../../source/practicals/image_correlation.rst:228
#: aec87fa925d44a78975cd9d0442f448d
msgid "``reference chip size (pixels)``: Chip size of reference chip to be found in search chip. used to find correlating search chips in the first image. A larger chip size will increase the chance of finding a match, but will also increase computation time. A typical value is 32x32 pixels. This parameter can be equal or less to the ``search chip size``."
msgstr ""

#: ../../source/practicals/image_correlation.rst:230
#: 72238bae849a4b44acf37921be339225
msgid "``Grid spacing (Map units)``: Spacing between grid points where displacements are calculated. A smaller spacing will give a more detailed displacement field, but will also increase computation time. A typical value is 10 pixels."
msgstr ""

#: ../../source/practicals/image_correlation.rst:232
#: 2f8a44104c724c27907d43aaca874a9e
msgid "The output of the IMCORR tool are two ``vector files``: ``Correlated points`` and ``Displacement vectors``. You can load them in QGIS and visualize them as :numref:`fig_imcorr_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:234
#: f879b00af9dd46aa9bddf75639d668e5
msgid "The ``Correlated points`` layer contains all details about the correlation process (i.e. displacemets along columns (EW) and rows (NS), correlation coefficient, pixel coordinates, displacement in pixels, etc) for each grid point :numref:`fig_imcorr_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:235
#: 241695967d7b47198923d5950c0b7ada
msgid "The ``Displacement vectors`` layer contains only the displacement vectors for each grid point oriented though the direction of the displacement. THe lenght of the vectors is proportional to the displacement amplitude :numref:`fig_imcorr_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:237
#: fa1e2a40246b4defbecafb48ed751a56
msgid "Within the correlated points, you can visualize the ``DISP`` column that contains the total displacement amplitude (in meters) for each grid point :numref:`fig_imcorr_outputs`. You can also visualize the ``STRENGTH`` column that contains how the correlation is between pixels (greater values means better correlation). In addition to these two important columns, you can also visualize the ``XERR`` and ``YERR`` columns that contain the uncertainty of the displacement along columns (EW) and rows (NS), respectively."
msgstr ""

#: ../../source/practicals/image_correlation.rst:240
#: 83dbf0f3acc843a8a8cb9b03079bac5d
msgid "You can filter the correlated points by the ``STRENGTH``, ``DISP``, ``XERR`` and ``YERR`` columns to keep only the best correlated points (e.g. STRENGTH > 6 or 2 pixels) or those points with low uncertainty (e.g. XERR < 1 or YERR < 1) :numref:`fig_imcorr_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:244
#: fd461b00ce49470a8b092a56423f89bf
msgid "IMCORR outputs"
msgstr ""

#: ../../source/practicals/image_correlation.rst:249
#: 8a6dc123147448ecb817899e7f25893a
msgid "IMCORR outputs in QGIS: 1) ``Correlated points`` and ``Displacement vectors`` layers. 2) and 3) Important outputs within the ``Correlated points`` layer, 4) ``Correlation points`` coloured by displacements (``DISP`` column). Background image corresponds to Maca landslide in Planet 2021 image."
msgstr ""

#: ../../source/practicals/image_correlation.rst:252
#: 0da49325b0e14c658bc4ce287eef75d4
msgid "3.3.3. Interpolation of surface displacements"
msgstr ""

#: ../../source/practicals/image_correlation.rst:254
#: 663e970c61394291a6fb600bf9ad35c9
msgid "To visualize the displacement field as a raster, you can interpolate the ``DISP`` column of the ``Correlated points`` layer using the ``IDW interpolation`` or ``Heatmap`` tool in QGIS. You can also interpolate the ``DX`` and ``DY`` columns to obtain the displacement along columns (EW) and rows (NS), respectively. The result should be similar to :numref:`fig_imcorr_interpolation`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:258
#: 85239e6c1a63401fa12b274c5d894c0f
msgid "IMCORR interpolation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:263
#: 679916b439d84e36975aaae4969f9800
msgid "Interpolation of the ``DISP`` column of the ``Correlated points`` layer using the ``Heatmap`` tool in QGIS. Background image corresponds to Maca landslide in Planet 2021 image."
msgstr ""

#: ../../source/practicals/image_correlation.rst:268
#: 076cfb38e683416fb73c5c405b1d22da
msgid "What do you think of the results obtained with IMCORR?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:269
#: ../../source/practicals/image_correlation.rst:413
#: ../../source/practicals/image_correlation.rst:469
#: 54fe551b056941cd9ef3d46982c88581
#: 4b03372d71804b31b649c70ba9c62561
#: 21a5afb759264259b8397ca11261be6b
msgid "What are the main patterns of displacement that you can observe?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:270
#: ../../source/practicals/image_correlation.rst:414
#: ../../source/practicals/image_correlation.rst:470
#: 34d5af63fd644d80bdb763cc77b45ded
#: 4865a7333fc14108a46551ff516a5320
#: 5f3c25fc2d2c46bd8535bb9c230057ed
msgid "What do you think about the noise-level of the displacement field?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:271
#: ../../source/practicals/image_correlation.rst:415
#: ../../source/practicals/image_correlation.rst:471
#: 4015dcad217c45cab4ddbc317793b17d
#: 1861e36d863540308237a56e27045898
#: 7d109eda89d247d2a796f88bfd823b26
msgid "What are the main sources of errors?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:272
#: 0d4ee1a0956d49c0ac66dd35a84c8939
msgid "What are the advantages and limitations of the IMCORR algorithm?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:273
#: 289d53433e8d4fa59e718e5fca4e8a60
msgid "How would you improve the results obtained with IMCORR?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:278
#: 6e37bf40c59b479ca47ab8d184b4999a
msgid "3.5. Compute surface displacements with ASP"
msgstr ""

#: ../../source/practicals/image_correlation.rst:280
#: 4b0b83e0733e4f9c88a3b04ff6b6f22d
msgid "To measure surface displacements field using Ames Stereo Pipeline (ASP), you will use the different correlator strategies developed in the ASP software. Among them, the classic Block Matching (BM) algorithm and the Normalised Cross Correlation (NCC) cost-function (for correlation quality) are the most commonly used. The process initially requires 2 images as main input data. However, there is several parameters that can be tuned to improve the quality of the results. For instance, the size of the correlation window (or kernel), the type of correlation algorithm (BM, Semi-Global Matching (SGM), etc), the refinement of the correlation function (subpixel-mode). In this practice, we will use the ``parallel_stereo`` command to compute the displacement fields and the ``corr_eval`` command to compute a quality metric (NCC) of the correlation process."
msgstr ""

#: ../../source/practicals/image_correlation.rst:282
#: 4ec12eb6d2a14b578afe3a86f992bab2
msgid "The window size is fixed to 21x21. It can be tuned by using the option --corr-kernel. Other parameters, like the type of correlation algorithm or the refinement of the correlation function, can also be tuned. For instance the refinement mode 2 (Bayes mode) is the slowest one, but also the most precise. If you want a more rapid evaluation of your displacement fields, use subpixel-mode 1 (parabola fitting)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:284
#: 70cb8bf085ee43a9b43fa060a8f1f4d9
msgid "See also"
msgstr ""

#: ../../source/practicals/image_correlation.rst:284
#: 36b5ffe1187c41149eeb04d0ce667d0c
msgid "Ames Stereo Pipeline (ASP) The NASA `Ames Stereo Pipeline (ASP) <https://stereopipeline.readthedocs.io/en/latest/introduction.html>`_ is an open-source photogrammetric software, to generate DEM from either multiple satellite, airborne or ground-based images on the Earth and other planetary bodies (Mars, Moon, etc). This software is designed to produce DEM's using stereo or multiple-stereo pairs of optical images. For more detailed and complete information please refer to NASA ASP web page. Read on Ames Stereo Pipeline: :cite:`beyer2018` & :cite:`shean2016`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:288
#: c4737b8870b9472bb035b07e46093de3
msgid "3.5.1. Download the data"
msgstr ""

#: ../../source/practicals/image_correlation.rst:290
#: 0737f12357174b10944059621ac38f24
msgid "This second part of the exercise will be done using ASP software. This exercise will be run on Linux (e.g. WSL or Virtual Machine) or MAC operating system."
msgstr ""

#: ../../source/practicals/image_correlation.rst:294
#: 3a64c62c36964a6ab84f57b2e114c2e3
msgid "Download a set of Planet images (2018-2025) over the Maca landslide. You can use the provided script located in ``/psf_telrisknat_2025_docs/data/download_excercise_2_data.sh`` as follow:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:296
#: f0c80c1cce8c48dcb04ff089f0320dfa
msgid "Open a terminal and navigate to the ``/psf_telrisknat_2025_docs/data/`` directory."
msgstr ""

#: ../../source/practicals/image_correlation.rst:302
#: 5a65627d278b45aa9a264bd0c3ee54c6
msgid "Run the following command:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:309
#: 22e9e9fac23b4480b18da2910d794d19
msgid "3.5.2. Prepare the images"
msgstr ""

#: ../../source/practicals/image_correlation.rst:311
#: 5fb1e902df3e466cb1f5841c2676ef5d
msgid "As for IMCORR, ASP requires **single band images** with the **same number of columns** (``width``) and **lines** (``height``). So, you will need to first extract the red band (band 3) from both Planet images and then clip them to the same extent. As we provide the data ready for processing, we wont provide the details here:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:319
#: f7184736d5d447d7a4b069d55169a49b
msgid "3.5.3. Image correlation using ``parallel_stereo``"
msgstr ""

#: ../../source/practicals/image_correlation.rst:321
#: 6f507ee3cba14a1da8f7aefa50d8fe29
msgid "Now, you can run the ``parallel_stereo`` command with the following parameters:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:329
#: cbaa067e31554ee4afbbce878a0c0a5e
msgid "The output directory ``run`` contains ``run-corr-20180805-20210805-F.tif`` (3 bands):"
msgstr ""

#: ../../source/practicals/image_correlation.rst:331
#: 36fbb29e12874b5f96e86aa5a448a4e1
msgid "Band 1: **EW** (column) displacement (pixels)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:332
#: 3f3961039c3a42d6a11ca9f1b7de43ea
msgid "Band 2: **NS** (row) displacement (pixels)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:333
#: a38a0431742c48f2b63deeb920b3f5f2
msgid "Band 3: **GoodPixelMap** (raster mask of valid pixels)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:336
#: 939703202e8d4c3180792d5270afb9a4
msgid "3.5.4. Quality metric (NCC)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:337
#: 0fa9078919354883a1bdbf3d9b849d2d
msgid "To evaluate the quality of the correlation process, estimated by the cross-correlation coefficient (CC), you must run the following command:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:344
#: 24df09659bbf459494d2a455bba10163
msgid "This comand creates a raster file named ``run/run-corr-20180805-20210805-ncc.tif`` with values in **[0, 1]**. The NCC files contain a raster where their values are coded between 0 and 1, where values close to 0 have low correlation and values close to 1 have good correlation."
msgstr ""

#: ../../source/practicals/image_correlation.rst:347
#: d815e78bb56242d79070f03ba027a1b8
msgid "3.5.5. Harmonizing data for better analysis and visualization"
msgstr ""

#: ../../source/practicals/image_correlation.rst:349
#: 22ab9e68b8fc4227b35169feecbfa0ae
msgid "Now you will separate first band and second, which corresponds to ``EW`` and ``NS``. Run the following commands:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:366
#: 99c69d833e2549d7a79fbbe4ab5b0ba4
msgid "3.5.6. Convert from pixels to metres"
msgstr ""

#: ../../source/practicals/image_correlation.rst:368
#: 7450ff70b86c45899a181bb7393635ba
msgid "Note that contrary to ``IMCORR`` algorithm, ASP provides surface displacement in pixels. To convert it into meters, you must multiply by the pixel resolution (in this case 3m). You can use the raster calculator of QGIS to do so, or directly with the gdal library. Run the following commands:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:378
#: b1af821816fc404b919747afc84bf702
msgid "Once the results are converted, you can use QGIS environments to visualise the results ::numref:`fig_asp_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:382
#: fe58b4f7f38840349a63afd2bd72e0cd
msgid "ASP outputs"
msgstr ""

#: ../../source/practicals/image_correlation.rst:387
#: e11a80ecd7544af68ee6fb392fc1da23
msgid "ASP outputs in QGIS: Left: ``EWm_20180805_20210805.tif``, Right: ``NSm_20180805_20210805.tif``. Background image corresponds to Maca landslide hillshade."
msgstr ""

#: ../../source/practicals/image_correlation.rst:389
#: 0b4e7d2a8ac345f1b6bada90eeadd471
msgid "We will now compute the total displacement field (See :eq:`eq-disp`). For that, we will use the output of the previous results using the following formula:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:393
#: 649945e8f73d464ca83bbfaa6be34254
msgid "\\mathrm{d} = \\sqrt{\\mathrm{EWm}^2 + \\mathrm{NSm}^2}"
msgstr ""

#: ../../source/practicals/image_correlation.rst:398
#: 498e4a3ee0234beca20de5703dd9fb0e
msgid "where ``d`` is magnitude displacements in meters, ``NSm`` is raster displacements of the North-Sud component in meters, ``EWm`` is raster displacements of the East-West component in meters."
msgstr ""

#: ../../source/practicals/image_correlation.rst:400
#: 453118048abf48618edb058e593c1c98
msgid "You can use the raster calculator of QGIS to do so, or directly with the gdal library. Run the following command:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:410
#: 8a500a1e034542fb8e4de5a0b40e8c4d
msgid "Load the ``EW_20180805_20210805.tif``, ``NS_20180805_20210805.tif`` and ``CC_20180805_20210805.tif`` files in QGIS to visualize them."
msgstr ""

#: ../../source/practicals/image_correlation.rst:412
#: 01b333ac2d15439a92daf68e6723bcdf
msgid "What do you think of the results obtained with ASP?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:416
#: ../../source/practicals/image_correlation.rst:472
#: 9b5f822b64df412891deff7bd29c7743
#: b1d7a1723ac74e338ca477c915b8cac1
msgid "What are the advantages and limitations of the ASP algorithm?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:419
#: 1f711ab4c50d460dbef534e28409b801
msgid "3.5.7. Bias correction in surface displacements"
msgstr ""

#: ../../source/practicals/image_correlation.rst:421
#: c2a4e9eed0cb4f63961ec79a18aa2a5d
msgid "When inspecting the images in QGIS, you may notice that two of them are not perfectly georeferenced due to gyroscope errors on the satellite. There may be a bias of up to 10 m between them. This bias is clearly visible in stable areas where motion should be **close to zero**. However, as can be seen in :numref:`fig_asp_outputs`, this is not the case. To remove this bias, we need to visualise the east-west (EW) and north-south (NS) histograms in QGIS :numref:`fig_asp_bias_correction`, evaluate the value at the peak and subtract it separately for the EW and NS bands."
msgstr ""

#: ../../source/practicals/image_correlation.rst:425
#: 2091bff7bbbe437db182ffd04a1ca8e4
msgid "ASP bias correction"
msgstr ""

#: ../../source/practicals/image_correlation.rst:430
#: b19927f47dbb41e89619a145b0c9d2f2
msgid "Surface displacement histograms in QGIS: Left: ``EWm_20180805_20210805.tif``, Right: ``NSm_20180805_20210805.tif``."
msgstr ""

#: ../../source/practicals/image_correlation.rst:432
#: e00f1334c20d4f668f6e691e169f3f7c
msgid "In order to correct this bias, you can use either the ``raster calculator`` in QGIS or directly with the gdal library to do this subtraction. Run the following commands:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:442
#: e17870a269184041860dd398c3339a10
msgid "Finally, you can compute the total displacement and surface velocity as follows:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:449
#: d750671607c84ee88d494b81ee733a33
msgid "Visualize the displacement field overlayed over a hillshade DEM (if you have one, either over the satellite image in B&W). Adjust the transparency of the displacement ``layer right-clicking on the layer -> Properties``. The results should be similar to :numref:`fig_asp_bias_corrected_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:453
#: 3c890e58855e41f49ca462b07a960297
msgid "ASP bias corrected outputs"
msgstr ""

#: ../../source/practicals/image_correlation.rst:458
#: c5950e59895e4b45b128094ed43de255
msgid "ASP bias corrected outputs in QGIS: ``DISPm_20180805_20210805_bc.tif``. Background image corresponds to Maca landslide hillshade."
msgstr ""

#: ../../source/practicals/image_correlation.rst:461
#: b14ba3250bf242199780b1eaaa2ff355
msgid "ASP do not provide the displacement vectors as IMCORR. However, you can create them in QGIS. Take a look `at this tutorial <https://www.youtube.com/watch?v=y2b7URF8lZg>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:466
#: dd73c74f887a402287619d96ad587c64
msgid "Load the ``DISPm_20180805_20210805.tif`` and ``DISPm_20180805_20210805_bc.tif`` files in QGIS and compare them."
msgstr ""

#: ../../source/practicals/image_correlation.rst:468
#: 9ff3cb5891e14fc48c535ea8a91eb414
msgid "What do you think of the results obtained with ASP after bias correction?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:475
#: b3b8472506794eb28f4ad6b7a824e069
msgid "3.6. Evaluation of the data quality"
msgstr ""

#: ../../source/practicals/image_correlation.rst:477
#: b35fd9c7e1ce4f7597857b8e314cac57
msgid "Once you have obtained the displacement fields with both IMCORR and ASP (or any other algorithm), the questions is **How to evaluate the data quality?**"
msgstr ""

#: ../../source/practicals/image_correlation.rst:479
#: 9d06c4d22d2747c68882765467933fa5
msgid "Some aspects to consider include:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:483
#: 353ed4a441ba485b86875b892a10589d
msgid "**Comparison with ground truth data**: If available, compare the displacement fields with in-situ measurements or other reliable data sources to assess accuracy. For instance on the Maca landslide, 3 permanent GNSS enabled this comparison :numref:`fig_data_quality_evaluation`. This point-to-point evaluation allows us to give confidence to feature tracking results."
msgstr ""

#: ../../source/practicals/image_correlation.rst:484
#: fe93f2afd34c4e0ea4e909e57b39bb3d
msgid "**Statistical analysis**: Calculate statistics such as mean, median, standard deviation, and interquartile range to quantify the displacement field characteristics. This can be done using **stable areas** where no displacement is expected (e.g., areas with no known ground movement :cite:`cusicanqui2025_LandsatImagery`). However, you should pay attention on how those **stable areas** are defined."
msgstr ""

#: ../../source/practicals/image_correlation.rst:485
#: c5d1ea827309431bbf12f92e9f13c595
msgid "**Uncertainty estimation**: Assess the uncertainty associated with the displacement measurements, which can be influenced by factors such as image resolution, correlation window size, and image quality. For instance a standard deviation (STD) of the EW and NS measurements component on a stable area can be used to evaluate the uncertainties."
msgstr ""

#: ../../source/practicals/image_correlation.rst:486
#: 002ac8b3bdd3414ab7eb0debf3d1c579
msgid "**Visual inspection**: Look for obvious errors, such as unrealistic displacements or patterns that do not make sense given the context of the study area."
msgstr ""

#: ../../source/practicals/image_correlation.rst:487
#: f40fe2ab3b02437fa965f757a0b818f2
msgid "**Cross-validation**: If multiple displacement fields are available (e.g., from different algorithms or time periods), compare them to identify consistent patterns and potential biases."
msgstr ""

#: ../../source/practicals/image_correlation.rst:491
#: ef7a685dfb8845d4857748da5bca4a83
msgid "Data quality evaluation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:496
#: d63a61130b2f42de9ab6edfe2eb734b3
msgid "Example of data quality evaluation using in-situ GNSS data on the Maca landslide :cite:`lacroix2020`. Time-series of displacement measured by a GNSS installed on the Maca landslide."
msgstr ""

#: ../../source/practicals/image_correlation.rst:499
#: 99cd5a83442e40bea5232112fd4ce816
msgid "4. To go further"
msgstr ""

#: ../../source/practicals/image_correlation.rst:502
#: 2a0c60cd9119489098b67ea5a80da2b8
msgid "**Do it yourself!!**"
msgstr ""

#: ../../source/practicals/image_correlation.rst:504
#: 205791384493475096a3949b493dff31
msgid "**Congratulations!!** Now you have the basic knowledge on how to compute surface displacement using both IMCORR algorithm in QGIS and ASP. To go further:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:506
#: 765dd35ccc54461d93702bec885aeb71
msgid "Replicate the same process using other PlanetScope pair images available in the directory ``data/excercice_2_image_correlation/maca_planet``. For instance, you can use the 2021-2025 pair."
msgstr ""

#: ../../source/practicals/image_correlation.rst:509
#: 8a8ba738cb2a4210b9c261e298b562d4
msgid "5. References"
msgstr ""
