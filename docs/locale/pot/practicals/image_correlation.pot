# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, PSF TelRiskNat Optical team (D. Cusicanqui, P. Lacroix & R. Basantes)
# This file is distributed under the same license as the PSF TelRiskNat 2025 package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PSF TelRiskNat 2025 \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-14 06:10+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../source/practicals/image_correlation.rst:14
#: 25157187772c4cdfbfcb48fd6afe372c
msgid "Feature tracking image correlation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:24
#: 1730f8bba3af4137bd0e0bff4e84eb54
msgid "**Diego CUSICANQUI**\\ :sup:`1` & **Pascal LACROIX**\\ :sup:`1`"
msgstr ""

#: ../../source/practicals/image_correlation.rst:26
#: 7d8a19396b864993b5f8b5433f42b7c6
msgid "\\ :sup:`1` Univ. Grenoble Alpes, CNES, CNRS, IRD, Institut des Sciences de la Terre (ISTerre), Grenoble, France."
msgstr ""

#: ../../source/practicals/image_correlation.rst:30
#: 8292921394be440ca43be8f5c3d9640d
msgid "Copyright"
msgstr ""

#: ../../source/practicals/image_correlation.rst:32
#: 7de9830b48324db894a4a8692cd00ca0
msgid "*Document version 0.2, Last update: 2025-09-18*"
msgstr ""

#: ../../source/practicals/image_correlation.rst:34
#: 8680f1a3c81445d6b87004b4e1129f02
msgid "|copy| *PSF TelRIskNat 2025 Optical team (D. Cusicanqui, R. Basantes & P. Lacroix)*. This document and its contents are licensed under the Creative Commons Attribution 4.0 International License (`CC BY-NC-SA 4.0 <https://creativecommons.org/licenses/by-nc-sa/4.0/>`_)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:37
#: 0396fd9924eb498284a34e2e2b99f2ea
msgid "License: CC BY-NC-SA 4.0"
msgstr ""

#: ../../source/practicals/image_correlation.rst:45
#: e2e5f4a9d4bc4c4ea14b6085a7706b86
msgid "Learning objectives:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:47
#: 6863fd7ce78549d2b3dcd47bd190af1b
msgid "Understand the principles of image correlation for measuring surface displacements."
msgstr ""

#: ../../source/practicals/image_correlation.rst:48
#: 8239c1413a934f2ea6ce80e5e14b8688
msgid "Learn how to apply image correlation techniques using the ASP software."
msgstr ""

#: ../../source/practicals/image_correlation.rst:49
#: 4a6cd009da1a4e5cab71b0dcb429de66
msgid "Analyze and interpret displacement fields obtained from image correlation."
msgstr ""

#: ../../source/practicals/image_correlation.rst:51
#: ../../source/practicals/image_correlation.rst:71
#: ../../source/practicals/image_correlation.rst:161
#: ../../source/practicals/image_correlation.rst:194
#: 901e0cd6adf34772b919caf3df8ecaf1
#: 39aaec70a6344333ac705e519ec05fc8
#: f90f99f5cb8a4f86a0d5442fed61ad7d
#: 610edd669cc241d9af9887d5dd509fb9
msgid "Note"
msgstr ""

#: ../../source/practicals/image_correlation.rst:52
#: 2bc30b3a9af24dfaa40ffa1bc00b1324
msgid "This exercise focuses on optical remote sensing data from different sensors at different spatial resolution i.e. Planet (3m) or Sentinel2 (10m) or LandSat8 (15m). These remote sensing datasets have the greatest advantages of being **free and available worldwide**. For this practice, we will focus in the **Maca Landslide** in Peru using PlanetScope data."
msgstr ""

#: ../../source/practicals/image_correlation.rst:56
#: a7f901549fb94021ad69763b5b9df929
msgid "INTRODUCTION"
msgstr ""

#: ../../source/practicals/image_correlation.rst:58
#: 762c4fcd6d2c4894b4b23f0496c07e93
msgid "Landslides are a major threat in most mountainous areas of the world, causing  nearly 10000 casualties every year. It has been observed that landslides can be preceded by a phase of acceleration, emphasising the interest in detecting slow ground-movements and monitoring their evolution through time. Knowing how the ground moves is essential to understanding the physical mechanisms controlling movement :cite:`lacroix2019`. Landslide displacement can be measured from space by two techniques: first, by Interferometric Synthetic Aperture Radar (InSAR) and then, by feature-tracking image correlation applied either to SAR or optical images :numref:`fig_surf_disp_optic_sar`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:60
#: 3c6a5f34cd8e40d4a632192e112a10be
msgid "On one hand, surface deformation obtained from InSAR is now being used to measure very small displacements (e.g., < 1 cm) and detect new unstable zones. Although this technique offers the possibility to map very large areas (up to 400 km for Sentinel-1), this kind of data has a complex data processing and encounters different limitations related with the unwrapping of the signal that makes it not fully adapted to small objects like landslides or fast objects like glaciers :cite:`garcia2024`. On the other hand, optical image correlation is an appropriate technique for monitoring large displacements or long-term displacements of small objects :cite:`cusicanqui2021_JGRES`. Although freely available data exist worldwide (Section 2), the main limitations for this data are the presence of snow at the surface, clouds and strong changes in contrast caused by shadows. These two techniques have become the main means of studying natural hazards that produce deformations of the earth's surface on different spatio-temporal scales :cite:`zhu2022`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:64
#: 45b19b0e5c7c4c1e92c7ed7167597d72
msgid "Domain of applicability of different techniques and satellite data"
msgstr ""

#: ../../source/practicals/image_correlation.rst:69
#: b830ca3cc7af4789aa554e814ef099d3
msgid "Domain of applicability of different techniques and satellite data as a function of the landslide size and velocity :cite:`lacroix2020` ."
msgstr ""

#: ../../source/practicals/image_correlation.rst:72
#: bfdde3339372488398370f3123f11473
msgid "In this practice, we will focus only on optical remote sensing data, at different resolutions."
msgstr ""

#: ../../source/practicals/image_correlation.rst:75
#: bf1a2e77e98d4cafbeb07478b21e064e
msgid "REMOTE SENSING DATA"
msgstr ""

#: ../../source/practicals/image_correlation.rst:77
#: 4bb37e100d2d483db58b7a5ad567fb07
msgid "There are several possibilities to get freely available optical remote sensing data and many online services which offer access to the data worldwide. In this practice, we won't cover all possible sources, but rather the most popular ones (i.e. Landsat 5/7/8, Sentinel-2 and Planet). For a comprehensive introduction you can see the `Spatialpost <https://www.spatialpost.com/free-satellite-imagery/>` webpage."
msgstr ""

#: ../../source/practicals/image_correlation.rst:80
#: dc10d923d4394cd9998916b331e41ac2
msgid "Landsat 4/5/7/8 legacy"
msgstr ""

#: ../../source/practicals/image_correlation.rst:82
#: b87d2ec239db4ffeb4c9edf543d64554
msgid "The landsat program has been mapping earth since the early ~1970's until now. Landsat satellites have continuously acquired space-based images of the Earth's land surface, providing uninterrupted data to help land managers and policymakers make informed decisions about our natural resources and the environment. From a general point of view, this enormous dataset covers earth surface worldwide with a relatively medium spatial resolution 30 m and 15 m for multispectral and panchromatic bands, respectively. Landsat legacy has also a very good radiometric resolution between 5 to 11 bands depending on the landsat mission, as well as a good temporal resolution, one image each 16 days at equator and 2-3 days in the north pole. Landsat tiles cover a large spatial extent, with a 185 kilometres wide footprint. more information on `USGS-landsat mission <https://www.usgs.gov/landsat-missions/landsat-satellite-missions>`_ webpage."
msgstr ""

#: ../../source/practicals/image_correlation.rst:84
#: 09978a6b993146bbb72ef03737eef329
msgid "Accessing LandSat7/8 data (Since 1999, 15m resolution, 16 days revisit time) could be possible though the following links:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:87
#: 40abcf4e997c4db58b69cfc239e6c03e
msgid "`USGS Earth Explorer <https://earthexplorer.usgs.gov/>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:88
#: 44eae73909cb413abae85395d2fd76db
msgid "`Landsat look <https://landsatlook.usgs.gov/viewer.html>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:91
#: b68b59e6e18c4a0b917f6e85dbdd66d8
msgid "Sentinel-2"
msgstr ""

#: ../../source/practicals/image_correlation.rst:93
#: 12942c60a916454aa59461c2b97c40cc
msgid "The Copernicus SENTINEL-2 mission comprises a constellation of two polar-orbiting satellites placed in the same sun-synchronous orbit, phased at 180Â° to each other. It aims at monitoring variability in land surface conditions, and its wide swath width (290 km) and high revisit time (10 days at the equator with one satellite, and 5 days with 2 satellites under cloud-free conditions which results in 2-3 days at mid-latitudes) will support monitoring of Earth's surface changes. More technical information though `Copernicus Sentinel-2 <https://www.esa.int/Applications/Observing_the_Earth/Copernicus/Sentinel-2>`_ program."
msgstr ""

#: ../../source/practicals/image_correlation.rst:95
#: 0aa85699e20c40a58f74d023cfc99a84
msgid "Accessing Sentinel-2 data (since December 2015, 10m resolution, 5 days revisit time) could be possible though the following links:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:98
#: 2b3cab827d584ee28db94c75bfb06e66
msgid "`Copernicus Open Access Hub <https://dataspace.copernicus.eu/data-collections/copernicus-sentinel-data/sentinel-2>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:101
#: 7a70cafc16cf4b30a9bc45f69da56851
msgid "PlanetScope"
msgstr ""

#: ../../source/practicals/image_correlation.rst:103
#: 325756a8e4624789a358bb30c0cc7af6
msgid "PlanetScope, operated by Planet, is a constellation of approximately 130 satellites, able to image the entire land surface of the Earth every day (a daily collection capacity of 200 million kmÂ²/day, :numref:`fig_planetscope_revisit_time`). PlanetScope images are approximately 3 metres per pixel resolution with 4 spectral bands Blue, Green, Red and IR bands. The data can be downloaded for free, within a certain quota, on the `Planetscope <https://docs.planet.com/data/imagery/planetscope/>`_ website."
msgstr ""

#: ../../source/practicals/image_correlation.rst:105
#: 1e38a495ad7d4bf596e5540c1f94dbf0
msgid "Accessing Planet data (Since ~2016, 3m resolution, ~1day revisit time):"
msgstr ""

#: ../../source/practicals/image_correlation.rst:108
#: 410f8aed395a4ad382ea4300a9390bd3
msgid "`Planet Explorer <https://www.planet.com/explorer/>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:112
#: 87e26c57deb143c495cd1d8cf1936b44
msgid "PlanetScope constellation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:117
#: 39034354ccba4e65a48ada394806f65d
msgid "Average revisit time between 2 Planet acquisitions (2019-2020), :cite:`roy2021`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:120
#: 8d7e86894d19400794bd86ecedc5f7f5
msgid "PRACTICE"
msgstr ""

#: ../../source/practicals/image_correlation.rst:123
#: 022c322d274e4af19f7ea55b6dd8e81c
msgid "About the study site - Maca Landslide, Peru"
msgstr ""

#: ../../source/practicals/image_correlation.rst:125
#: 10b583594ccb46e99c3024c13b7ccb00
msgid "The `Maca landslide <https://goo.gl/maps/LnyEkErxexKkSHRW8>`_ :numref:`fig_maca_landslide` is situated in the Colca valley in Peru which is a wide depression filled with lacustrine sediments deposited over the last 1M yr, after a major debris avalanche coming from the âHualca Hualcaâ volcanic complex dammed the valley. After the breaching of the dam, Colca river started to incise the soft clayey sediments and initiated landsliding in the whole area. Its historical activity can be traced back to the 1980's, when the Lari landslide pushed the river down to the Maca side, and started to erode the Maca side. Several large reactivation occurred in 1990's, 2000's, 2012-2013, and 2019-2020 :cite:`lacroix2019`, :cite:`zerathe2016`, :cite:`bontemps2018`. Examples for this practice will be taken during the last stage of reactivation, which produced major damages."
msgstr ""

#: ../../source/practicals/image_correlation.rst:129
#: cd1023465a4b461ca3484d330318621b
msgid "Maca Landslide"
msgstr ""

#: ../../source/practicals/image_correlation.rst:134
#: 41e7f1842bb843bb969f4de0b2c318c3
msgid "Picture of the Maca landslide."
msgstr ""

#: ../../source/practicals/image_correlation.rst:136
#: f5d04b899a0e405f9261a792e6ee2164
msgid "For this practice, landslide motion will be retrieved from correlation of optical images. The specific goal is to be able to produce maps such as the one shown in :numref:`fig_landslide_displacement`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:140
#: 9454caa94c564b63ab9b1b3dc5903166
msgid "Maca Landslide Displacement"
msgstr ""

#: ../../source/practicals/image_correlation.rst:145
#: d073f7f2de214d0f994957810786681f
msgid "Surface displacement field of the Maca landslide between 2003 and 2013 :cite:`bontemps2018`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:148
#: 0fbfd5980e1143568c0d2666b8e3bf56
msgid "Download PlanetScope data"
msgstr ""

#: ../../source/practicals/image_correlation.rst:150
#: 30fce6d57d1e47d4b50d11e940c9961c
msgid "Log on the `Planet server <https://www.planet.com/explorer/>`_, select your area of interest (not too large, typically 4x3km, that includes the landslide and stable areas) and download at least 2 images (you can even select one per year 2017-2022), taken at the same season, without clouds. If possible select images that are not a mosaic of several images but only one single image. The image download is done with the âorder scenesâ blue button at the bottom left of the browser :numref:`fig_planet_download`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:154
#: 658404731ebf4476b65e9fd0ea081995
msgid "Planet download"
msgstr ""

#: ../../source/practicals/image_correlation.rst:159
#: 885d919b82d8406c95a6e8684b3001a2
msgid "Planet download interface centered on Maca landslide."
msgstr ""

#: ../../source/practicals/image_correlation.rst:162
#: ca23d118c91a4032af6ffec8f96d0be4
msgid "Since the activation of the Planet account could take long-time, for this practice we already provide a set of images."
msgstr ""

#: ../../source/practicals/image_correlation.rst:164
#: 53b5868b80ca434a824bbd234ae7bdca
msgid "Now, open two images (those furthest back in time, 2018-2022). Open both images by clicking on ``Layer -> Add Raster Layer`` play with them by turning them on and off."
msgstr ""

#: ../../source/practicals/image_correlation.rst:166
#: ../../source/practicals/image_correlation.rst:265
#: ../../source/practicals/image_correlation.rst:407
#: ../../source/practicals/image_correlation.rst:463
#: 58949e1974c74994a45587fce8b52b71
#: 08381f9095a946c0b67c53391a01cca6
#: c4f79de0d1ff45bf8238d0b10ac44d90
#: 9bcf56ad749f4d69b28c85e2c35b1319
msgid "Questions for discussion"
msgstr ""

#: ../../source/practicals/image_correlation.rst:169
#: a8e1827485e34363bcd3efde8af6b330
msgid "Can you tell if the landslide faced any changes during your period of study?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:170
#: 949ea8f1da3b4756a2cd3156d77be03c
msgid "Are you able to track any displacement by eye?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:173
#: f2d713c47a074c25a1287dab1f59d441
msgid "About surface displacements and image correlation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:175
#: e134375fdaf34b43a1b0fd6fba5cdb19
msgid "Surface displacements are defined as the movement of the ground surface between two dates. They can be measured in different ways, either in-situ (e.g., GNSS, total station, extensometer, etc.) or remotely (e.g., optical or SAR image correlation, InSAR, LiDAR, etc.). In this practice we will focus on surface displacements measured from optical image correlation."
msgstr ""

#: ../../source/practicals/image_correlation.rst:177
#: 4cf9fba387de48f088b597c2a948b9b0
msgid "Surface displacements from image correlation are obtained by tracking the translation of small, textured pixel windows between two accurately co-registered, orthorectified images acquired at different dates. A similarity metricâtypically normalized cross-correlationâyields sub-pixel offsets for each window; these offsets are converted to map-plane displacement vectors using pixel size. The method delivers dense 2-D horizontal motion fields (magnitude and direction), with uncertainty controlled by image texture, window size, co-registration accuracy, and radiometric changes :cite:`ayoub2008`. The main principle of image correlation is to divide the first image into small windows (or chips) and then search for the best matching window in the second image. However, modern softwares have implemented different strategies and algorithms to improve the accuracy, robustness and speed of the correlation process."
msgstr ""

#: ../../source/practicals/image_correlation.rst:179
#: ../../source/practicals/image_correlation.rst:188
#: ../../source/practicals/image_correlation.rst:223
#: ../../source/practicals/image_correlation.rst:292
#: ../../source/practicals/image_correlation.rst:501
#: e6585bcf5b344757913745438e1df446
#: db9894f5feac4788badafad3f0d362b7
#: addc5c10aac742d6bb2bf3ab696fece1
#: 6c27a95bb2b64961af6c1d79fcabe9ed
#: af9d94f99c904de0a63a26d1369b0e29
msgid "Important"
msgstr ""

#: ../../source/practicals/image_correlation.rst:180
#: 5a97c1308e9648f78ac996789e889341
msgid "For the following exercise we will use two different algorithms to compute surface displacements: (1) IMCORR (SAGA-QGIS) and (2) ASP. We propose to compare both algorithms and discuss their advantages and limitations."
msgstr ""

#: ../../source/practicals/image_correlation.rst:184
#: 5e8d500d2d0644f0a9f919694ba92dc7
msgid "Compute surface displacements with IMCORR (SAGA-QGIS)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:186
#: 97c632c189984a7bb04d4422b4369d6c
msgid "This first part of the exercise will be done using QGIS software with the SAGA plugin. This exercise can be done on any operating system (Windows, Linux or MacOS)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:190
#: 6935d16fc45043dfb65edfb5e3bcd72e
msgid "Download a pair of Planet images (2018-2021) over the Maca landslide using this `RENATER link <https://filesender.renater.fr/download.php?token=918a226e-0b42-4b88-93dc-f5025228d703&files_ids=60469767>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:192
#: 60b91ed090344a8ea44da21971a562cc
msgid "Once images loaded in QGIS, we will use the SAGA plugin to compute surface displacements with the IMCORR algorithm. If you don't have SAGA installed, please follow the instructions in the :ref:`install_qgis` section of the installation guide."
msgstr ""

#: ../../source/practicals/image_correlation.rst:195
#: f69b5e3ab9c547deba54c88029238f4c
msgid "IMCORR algorithm is on of the first image correlation algorithms developed in the early 90's :cite:`scambos1992`. It is now implemented in the SAGA GIS software and can be used through the QGIS interface. It has been widely used in glaciology to measure glacier surface displacements from optical images :cite:`scambos1992`. As this algorithm is no longer maintained, **we will use only for academic purposes**. It is therefore recommended to use more recent algorithms such as the one implemented in the ASP software (see :ref:`compute_surf_disp_asp`)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:199
#: ../../source/practicals/image_correlation.rst:309
#: 8e3cd758c84b4d3ea1209cd11c29bc40
#: 1403aff1d8504d1da07d629ca3780a68
msgid "Prepare the images"
msgstr ""

#: ../../source/practicals/image_correlation.rst:201
#: 2f5d87467f7842d2adbd897cfa55d283
msgid "IMCORR algorithm accepts **single band images** with the **same number of columns** (``width``) **and lines** (``height``). So, you will need to first extract the red band (band 3) from both Planet images and then clip them to the same extent. As this is a common processing step, we wont detail it here."
msgstr ""

#: ../../source/practicals/image_correlation.rst:203
#: ../../source/practicals/image_correlation.rst:239
#: ../../source/practicals/image_correlation.rst:460
#: ../../source/practicals/image_correlation.rst:481
#: 4d65cf0f224e4b9ea2fcfb5f53a628b5
#: 0fc502de0a114b029aa2ea8ed7d518d6
#: 7a7b270f8d544f018eb7dba485c39dfe
#: 322d15841d7342e0a4939e040c7bc0eb
msgid "Tip"
msgstr ""

#: ../../source/practicals/image_correlation.rst:205
#: 3c9ca3a0ac9a4605b77f3f8a8d5b81cc
msgid "For extract single band, you can use ``GDAL -> Raster conversion -> Rearange bands`` within QGIS."
msgstr ""

#: ../../source/practicals/image_correlation.rst:206
#: 21052f0f2d2a4cde99d40d01ab7f3b07
msgid "For clipping images you can use the ``Clip Raster by Extent`` tool in QGIS to clip both images to the same extent. Make sure to check the option ``Use Layer Extent`` and select one of your two images as the layer to define the extent."
msgstr ""

#: ../../source/practicals/image_correlation.rst:207
#: 5b433096bd244be8ad2e433a9a825ada
msgid "You can check the number of columns and lines of your images by right-clicking on the layer and selecting ``Properties -> Information`` tab."
msgstr ""

#: ../../source/practicals/image_correlation.rst:210
#: f41ca149d5ab492eaf8810f9ac704414
msgid "Image correlation and outputs"
msgstr ""

#: ../../source/practicals/image_correlation.rst:212
#: b7318bfe78dc44189e801323e1e7810a
msgid "Now, in the ``Processing Toolbox`` of QGIS, search for ``IMCORR`` and open the ``Image Correlation (IMCORR)`` tool. Fill the parameters as :numref:`fig_imcorr_parameters` and run the tool."
msgstr ""

#: ../../source/practicals/image_correlation.rst:216
#: ba044c48a9e14eff883503c19c4d36e1
msgid "IMCORR parameters"
msgstr ""

#: ../../source/practicals/image_correlation.rst:221
#: 12d83098f30646ffb628abc1bf152b2a
msgid "IMCORR parameters in QGIS. 1 and 3) Input images (single band, same size), 2) ``IMCORR`` algorithm, 4) Correlation parameters (Search chip size, Reference chip size, Grid spacing)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:224
#: 6392181c65e2406c98ab4e29ef816176
msgid "The choice of the parameters is crucial to obtain good results. Here are some advices:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:226
#: 8af150866f994e798198caf847822a43
msgid "``search chip size (pixels)``: Chip size of search chip, used to find correlating reference chips in the second image. A larger chip size will increase the chance of finding a match, but will also increase computation time. A typical value is 64x64 pixels."
msgstr ""

#: ../../source/practicals/image_correlation.rst:228
#: 9641127cd23b4f0fad7f8c8625d23a36
msgid "``reference chip size (pixels)``: Chip size of reference chip to be found in search chip. used to find correlating search chips in the first image. A larger chip size will increase the chance of finding a match, but will also increase computation time. A typical value is 32x32 pixels. This parameter can be equal or less to the ``search chip size``."
msgstr ""

#: ../../source/practicals/image_correlation.rst:230
#: d75536883192429ba1b6757aa3bb2ed1
msgid "``Grid spacing (Map units)``: Spacing between grid points where displacements are calculated. A smaller spacing will give a more detailed displacement field, but will also increase computation time. A typical value is 10 pixels."
msgstr ""

#: ../../source/practicals/image_correlation.rst:232
#: 7826d5b427654ec1a46b4b366839b508
msgid "The output of the IMCORR tool are two ``vector files``: ``Correlated points`` and ``Displacement vectors``. You can load them in QGIS and visualize them as :numref:`fig_imcorr_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:234
#: 6887038a3d00462da91f095b7826390e
msgid "The ``Correlated points`` layer contains all details about the correlation process (i.e. displacemets along columns (EW) and rows (NS), correlation coefficient, pixel coordinates, displacement in pixels, etc) for each grid point :numref:`fig_imcorr_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:235
#: db18090cbbe24defa8d9563e9904be96
msgid "The ``Displacement vectors`` layer contains only the displacement vectors for each grid point oriented though the direction of the displacement. THe lenght of the vectors is proportional to the displacement amplitude :numref:`fig_imcorr_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:237
#: 1698629078f24538b67eec49905415ad
msgid "Within the correlated points, you can visualize the ``DISP`` column that contains the total displacement amplitude (in meters) for each grid point :numref:`fig_imcorr_outputs`. You can also visualize the ``STRENGTH`` column that contains how the correlation is between pixels (greater values means better correlation). In addition to these two important columns, you can also visualize the ``XERR`` and ``YERR`` columns that contain the uncertainty of the displacement along columns (EW) and rows (NS), respectively."
msgstr ""

#: ../../source/practicals/image_correlation.rst:240
#: 33e6b3b077634497b7c61e3e48665f2a
msgid "You can filter the correlated points by the ``STRENGTH``, ``DISP``, ``XERR`` and ``YERR`` columns to keep only the best correlated points (e.g. STRENGTH > 6 or 2 pixels) or those points with low uncertainty (e.g. XERR < 1 or YERR < 1) :numref:`fig_imcorr_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:244
#: f89c503508bc4840a2bedd0dd42d5014
msgid "IMCORR outputs"
msgstr ""

#: ../../source/practicals/image_correlation.rst:249
#: 3b74c8504f944868a280dcffa68e068f
msgid "IMCORR outputs in QGIS: 1) ``Correlated points`` and ``Displacement vectors`` layers. 2) and 3) Important outputs within the ``Correlated points`` layer, 4) ``Correlation points`` coloured by displacements (``DISP`` column). Background image corresponds to Maca landslide in Planet 2021 image."
msgstr ""

#: ../../source/practicals/image_correlation.rst:252
#: 01440514354f415aaa9a247226bddbcc
msgid "Interpolation of surface displacements"
msgstr ""

#: ../../source/practicals/image_correlation.rst:254
#: 90ad43600f4942d4ad15898553bd704d
msgid "To visualize the displacement field as a raster, you can interpolate the ``DISP`` column of the ``Correlated points`` layer using the ``IDW interpolation`` or ``Heatmap`` tool in QGIS. You can also interpolate the ``DX`` and ``DY`` columns to obtain the displacement along columns (EW) and rows (NS), respectively. The result should be similar to :numref:`fig_imcorr_interpolation`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:258
#: c995965e753b48209c82a9a5a78d0e8b
msgid "IMCORR interpolation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:263
#: 78298351404741f9bd0cc552d4ac2101
msgid "Interpolation of the ``DISP`` column of the ``Correlated points`` layer using the ``Heatmap`` tool in QGIS. Background image corresponds to Maca landslide in Planet 2021 image."
msgstr ""

#: ../../source/practicals/image_correlation.rst:268
#: cbe37fff93894485807110ce66b76798
msgid "What do you think of the results obtained with IMCORR?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:269
#: ../../source/practicals/image_correlation.rst:413
#: ../../source/practicals/image_correlation.rst:469
#: 0cd1d8b8439646e1be77e422f0b42aca
#: 598d8dc5381346a8b77bb18d87ece532
#: 5120c839f56f4615a1451ccc169c7b84
msgid "What are the main patterns of displacement that you can observe?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:270
#: ../../source/practicals/image_correlation.rst:414
#: ../../source/practicals/image_correlation.rst:470
#: 4d61a4365a00452eb8adc535d3613c5f
#: 587b7d9876904206a87b07b5998c508b
#: d4275e43a28a4e308db4c2cd81321519
msgid "What do you think about the noise-level of the displacement field?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:271
#: ../../source/practicals/image_correlation.rst:415
#: ../../source/practicals/image_correlation.rst:471
#: b5543173e5fe4fd98def15793180f5ef
#: e818675cecee424b91769af9b8601059
#: 52db366b52174ab49de378e2f18185a3
msgid "What are the main sources of errors?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:272
#: 1e530c48c41f428cb2a92af52318371a
msgid "What are the advantages and limitations of the IMCORR algorithm?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:273
#: 1209ffde44304d76ab86ed855602ad42
msgid "How would you improve the results obtained with IMCORR?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:278
#: 627ebbc9c30e4d9cb800c48ca8dc9bde
msgid "Compute surface displacements with ASP"
msgstr ""

#: ../../source/practicals/image_correlation.rst:280
#: e21ada1cb0e6400393a89f4520721806
msgid "To measure surface displacements field using Ames Stereo Pipeline (ASP), you will use the different correlator strategies developed in the ASP software. Among them, the classic Block Matching (BM) algorithm and the Normalised Cross Correlation (NCC) cost-function (for correlation quality) are the most commonly used. The process initially requires 2 images as main input data. However, there is several parameters that can be tuned to improve the quality of the results. For instance, the size of the correlation window (or kernel), the type of correlation algorithm (BM, Semi-Global Matching (SGM), etc), the refinement of the correlation function (subpixel-mode). In this practice, we will use the ``parallel_stereo`` command to compute the displacement fields and the ``corr_eval`` command to compute a quality metric (NCC) of the correlation process."
msgstr ""

#: ../../source/practicals/image_correlation.rst:282
#: 042280b1822c40cfad30c5ffe0948643
msgid "The window size is fixed to 21x21. It can be tuned by using the option --corr-kernel. Other parameters, like the type of correlation algorithm or the refinement of the correlation function, can also be tuned. For instance the refinement mode 2 (Bayes mode) is the slowest one, but also the most precise. If you want a more rapid evaluation of your displacement fields, use subpixel-mode 1 (parabola fitting)."
msgstr ""

#: ../../source/practicals/image_correlation.rst:284
#: 08c608c25cb04083b2982c992e306e32
msgid "See also"
msgstr ""

#: ../../source/practicals/image_correlation.rst:284
#: ed97881306b44090b6c0d0772a74913c
msgid "Ames Stereo Pipeline (ASP) The NASA `Ames Stereo Pipeline (ASP) <https://stereopipeline.readthedocs.io/en/latest/introduction.html>`_ is an open-source photogrammetric software, to generate DEM from either multiple satellite, airborne or ground-based images on the Earth and other planetary bodies (Mars, Moon, etc). This software is designed to produce DEM's using stereo or multiple-stereo pairs of optical images. For more detailed and complete information please refer to NASA ASP web page. Read on Ames Stereo Pipeline: :cite:`beyer2018` & :cite:`shean2016`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:288
#: 8a5d8bfc04594248ac5225003c44287d
msgid "Download the data"
msgstr ""

#: ../../source/practicals/image_correlation.rst:290
#: 80634b82d1694ae5b118cbae2a7f2ad0
msgid "This second part of the exercise will be done using ASP software. This exercise will be run on Linux (e.g. WSL or Virtual Machine) or MAC operating system."
msgstr ""

#: ../../source/practicals/image_correlation.rst:294
#: 45dc937c0d7b486da320f8b08f667ef8
msgid "Download a set of Planet images (2018-2025) over the Maca landslide. You can use the provided script located in ``/psf_telrisknat_2025_docs/data/download_excercise_2_data.sh`` as follow:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:296
#: 862b3318d56141f4bb9ec7916a64f03e
msgid "Open a terminal and navigate to the ``/psf_telrisknat_2025_docs/data/`` directory."
msgstr ""

#: ../../source/practicals/image_correlation.rst:302
#: 4852a5d08a2a49199f7c05cca9b80e2a
msgid "Run the following command:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:311
#: c1470ce37835426dbb946789c0cec2cf
msgid "As for IMCORR, ASP requires **single band images** with the **same number of columns** (``width``) and **lines** (``height``). So, you will need to first extract the red band (band 3) from both Planet images and then clip them to the same extent. As we provide the data ready for processing, we wont provide the details here:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:319
#: 5f91fdea188a416885ef9c068b645073
msgid "Image correlation using ``parallel_stereo``"
msgstr ""

#: ../../source/practicals/image_correlation.rst:321
#: 27176edcf5d24c36b5e310f78103df57
msgid "Now, you can run the ``parallel_stereo`` command with the following parameters:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:329
#: 974b32e9904f47d9af3950bc8f0c5319
msgid "The output directory ``run`` contains ``run-corr-20180805-20210805-F.tif`` (3 bands):"
msgstr ""

#: ../../source/practicals/image_correlation.rst:331
#: ba6b8c6e816b42868564243c780695af
msgid "Band 1: **EW** (column) displacement (pixels)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:332
#: 12dfcd959c3b4b1b8a44b51502cc0f8b
msgid "Band 2: **NS** (row) displacement (pixels)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:333
#: 0cbb01158da14452affa63cb33f6a57b
msgid "Band 3: **GoodPixelMap** (raster mask of valid pixels)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:336
#: c2c5553a7e3b4735b3e1b5db299bdc32
msgid "Quality metric (NCC)"
msgstr ""

#: ../../source/practicals/image_correlation.rst:337
#: d58a60f89bac4dc7a95ab4a417dba018
msgid "To evaluate the quality of the correlation process, estimated by the cross-correlation coefficient (CC), you must run the following command:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:344
#: 6eabe620b2e34ac089584ccc3e930c36
msgid "This comand creates a raster file named ``run/run-corr-20180805-20210805-ncc.tif`` with values in **[0, 1]**. The NCC files contain a raster where their values are coded between 0 and 1, where values close to 0 have low correlation and values close to 1 have good correlation."
msgstr ""

#: ../../source/practicals/image_correlation.rst:347
#: 8af9d9e61645452ca12f1e8c138ee0c7
msgid "Harmonizing data for better analysis and visualization"
msgstr ""

#: ../../source/practicals/image_correlation.rst:349
#: 6097681874fa4ab9909c631c4ff1eae8
msgid "Now you will separate first band and second, which corresponds to ``EW`` and ``NS``. Run the following commands:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:366
#: 23531a885cb349a8b34d846988dd7609
msgid "Convert from pixels to metres"
msgstr ""

#: ../../source/practicals/image_correlation.rst:368
#: 4ec3de854f5b4aaa8b70b1cf4b15ef88
msgid "Note that contrary to ``IMCORR`` algorithm, ASP provides surface displacement in pixels. To convert it into meters, you must multiply by the pixel resolution (in this case 3m). You can use the raster calculator of QGIS to do so, or directly with the gdal library. Run the following commands:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:378
#: 501220ff1b8d466294e967a40ed5b43e
msgid "Once the results are converted, you can use QGIS environments to visualise the results ::numref:`fig_asp_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:382
#: f984bde4b0ae41bcb07a26eaf78c0a26
msgid "ASP outputs"
msgstr ""

#: ../../source/practicals/image_correlation.rst:387
#: 3a64e42c3e624750a562203648dafad2
msgid "ASP outputs in QGIS: Left: ``EWm_20180805_20210805.tif``, Right: ``NSm_20180805_20210805.tif``. Background image corresponds to Maca landslide hillshade."
msgstr ""

#: ../../source/practicals/image_correlation.rst:389
#: 4726210940a245059c2e0e4de0358d92
msgid "We will now compute the total displacement field (See :eq:`eq-disp`). For that, we will use the output of the previous results using the following formula:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:393
#: 447ab15666294421a1419df8961cb585
msgid "\\mathrm{d} = \\sqrt{\\mathrm{EWm}^2 + \\mathrm{NSm}^2}"
msgstr ""

#: ../../source/practicals/image_correlation.rst:398
#: 8f7b2d6ceb034407b57d3ef5b5fee9ce
msgid "where ``d`` is magnitude displacements in meters, ``NSm`` is raster displacements of the North-Sud component in meters, ``EWm`` is raster displacements of the East-West component in meters."
msgstr ""

#: ../../source/practicals/image_correlation.rst:400
#: 7d46f3116fc24267a44a287e184ab0d4
msgid "You can use the raster calculator of QGIS to do so, or directly with the gdal library. Run the following command:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:410
#: 8162d41a799f4a71a025f18fbce2a615
msgid "Load the ``EW_20180805_20210805.tif``, ``NS_20180805_20210805.tif`` and ``CC_20180805_20210805.tif`` files in QGIS to visualize them."
msgstr ""

#: ../../source/practicals/image_correlation.rst:412
#: 91fafcc4bb9049a1b72c5476aca4f456
msgid "What do you think of the results obtained with ASP?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:416
#: ../../source/practicals/image_correlation.rst:472
#: 264d4bba02b54170b12f5b7acd4cb32e
#: 87e47e3a28fe426c813c825d27ad4e8f
msgid "What are the advantages and limitations of the ASP algorithm?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:419
#: e05d05af9d2b42b9837431fbddc4d1ee
msgid "Bias correction in surface displacements"
msgstr ""

#: ../../source/practicals/image_correlation.rst:421
#: 18074d539092416a9bb4e4d3da568a18
msgid "When inspecting the images in QGIS, you may notice that two of them are not perfectly georeferenced due to gyroscope errors on the satellite. There may be a bias of up to 10 m between them. This bias is clearly visible in stable areas where motion should be **close to zero**. However, as can be seen in :numref:`fig_asp_outputs`, this is not the case. To remove this bias, we need to visualise the east-west (EW) and north-south (NS) histograms in QGIS :numref:`fig_asp_bias_correction`, evaluate the value at the peak and subtract it separately for the EW and NS bands."
msgstr ""

#: ../../source/practicals/image_correlation.rst:425
#: 99106b602dee43c6bc506d10aaa79a5b
msgid "ASP bias correction"
msgstr ""

#: ../../source/practicals/image_correlation.rst:430
#: 31cd3f5ec927419c9fb70cf118d23b2e
msgid "Surface displacement histograms in QGIS: Left: ``EWm_20180805_20210805.tif``, Right: ``NSm_20180805_20210805.tif``."
msgstr ""

#: ../../source/practicals/image_correlation.rst:432
#: 2b8fc72a9f5e4297bbaf6bf7551f98d3
msgid "In order to correct this bias, you can use either the ``raster calculator`` in QGIS or directly with the gdal library to do this subtraction. Run the following commands:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:442
#: e8dbb72cec3e4f7fb3631b649f18c1ab
msgid "Finally, you can compute the total displacement and surface velocity as follows:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:449
#: 503b6373bfd84bf7b78671b7ab64d2c0
msgid "Visualize the displacement field overlayed over a hillshade DEM (if you have one, either over the satellite image in B&W). Adjust the transparency of the displacement ``layer right-clicking on the layer -> Properties``. The results should be similar to :numref:`fig_asp_bias_corrected_outputs`."
msgstr ""

#: ../../source/practicals/image_correlation.rst:453
#: 82128862c5fe4cb197dfc33ec8a8085e
msgid "ASP bias corrected outputs"
msgstr ""

#: ../../source/practicals/image_correlation.rst:458
#: 286d0014492d4cf79ea84d2f12a7c641
msgid "ASP bias corrected outputs in QGIS: ``DISPm_20180805_20210805_bc.tif``. Background image corresponds to Maca landslide hillshade."
msgstr ""

#: ../../source/practicals/image_correlation.rst:461
#: 02bbb90f94594a5880aa7b8866834ccf
msgid "ASP do not provide the displacement vectors as IMCORR. However, you can create them in QGIS. Take a look `at this tutorial <https://www.youtube.com/watch?v=y2b7URF8lZg>`_."
msgstr ""

#: ../../source/practicals/image_correlation.rst:466
#: 8390aeb17946479f9f53e67bb0e25cc4
msgid "Load the ``DISPm_20180805_20210805.tif`` and ``DISPm_20180805_20210805_bc.tif`` files in QGIS and compare them."
msgstr ""

#: ../../source/practicals/image_correlation.rst:468
#: eb26fac551db43479e4c7d77ec22087a
msgid "What do you think of the results obtained with ASP after bias correction?"
msgstr ""

#: ../../source/practicals/image_correlation.rst:475
#: 7875053f5592423ca19f8a928eb33e12
msgid "Evaluation of the data quality"
msgstr ""

#: ../../source/practicals/image_correlation.rst:477
#: ad24e7c6cfae45cdaa8b887fea85e6eb
msgid "Once you have obtained the displacement fields with both IMCORR and ASP (or any other algorithm), the questions is **How to evaluate the data quality?**"
msgstr ""

#: ../../source/practicals/image_correlation.rst:479
#: b1657403636c4181a033f60c825e14ef
msgid "Some aspects to consider include:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:483
#: 1332d3a951e147afa51fa5469d9f3e9e
msgid "**Comparison with ground truth data**: If available, compare the displacement fields with in-situ measurements or other reliable data sources to assess accuracy. For instance on the Maca landslide, 3 permanent GNSS enabled this comparison :numref:`fig_data_quality_evaluation`. This point-to-point evaluation allows us to give confidence to feature tracking results."
msgstr ""

#: ../../source/practicals/image_correlation.rst:484
#: 76367b5411e94b8497a47489899e9413
msgid "**Statistical analysis**: Calculate statistics such as mean, median, standard deviation, and interquartile range to quantify the displacement field characteristics. This can be done using **stable areas** where no displacement is expected (e.g., areas with no known ground movement :cite:`cusicanqui2025_LandsatImagery`). However, you should pay attention on how those **stable areas** are defined."
msgstr ""

#: ../../source/practicals/image_correlation.rst:485
#: 9b72c27f1b5a47f684f4cee1fd4e79a7
msgid "**Uncertainty estimation**: Assess the uncertainty associated with the displacement measurements, which can be influenced by factors such as image resolution, correlation window size, and image quality. For instance a standard deviation (STD) of the EW and NS measurements component on a stable area can be used to evaluate the uncertainties."
msgstr ""

#: ../../source/practicals/image_correlation.rst:486
#: 00927c6883a54096854bf0645f553c7b
msgid "**Visual inspection**: Look for obvious errors, such as unrealistic displacements or patterns that do not make sense given the context of the study area."
msgstr ""

#: ../../source/practicals/image_correlation.rst:487
#: 11a43a65a815458ba5b5144185b260ec
msgid "**Cross-validation**: If multiple displacement fields are available (e.g., from different algorithms or time periods), compare them to identify consistent patterns and potential biases."
msgstr ""

#: ../../source/practicals/image_correlation.rst:491
#: e300ca03aa7247d68e7a7f9435015797
msgid "Data quality evaluation"
msgstr ""

#: ../../source/practicals/image_correlation.rst:496
#: b6bb6328158145bf9133bd61c00c5162
msgid "Example of data quality evaluation using in-situ GNSS data on the Maca landslide :cite:`lacroix2020`. Time-series of displacement measured by a GNSS installed on the Maca landslide."
msgstr ""

#: ../../source/practicals/image_correlation.rst:499
#: 8e52dc3def60400ca88cfb3298522efc
msgid "To go further"
msgstr ""

#: ../../source/practicals/image_correlation.rst:502
#: 289a9954c3074166ac4231f9c6abdbd6
msgid "**Do it yourself!!**"
msgstr ""

#: ../../source/practicals/image_correlation.rst:504
#: fac0ec843e9141a3aab54b341162368e
msgid "**Congratulations!!** Now you have the basic knowledge on how to compute surface displacement using both IMCORR algorithm in QGIS and ASP. To go further:"
msgstr ""

#: ../../source/practicals/image_correlation.rst:506
#: 7a62e74ecf0b4f0cb253c9debdda8ab6
msgid "Replicate the same process using other PlanetScope pair images available in the directory ``data/excercice_2_image_correlation/maca_planet``. For instance, you can use the 2021-2025 pair."
msgstr ""

#: ../../source/practicals/image_correlation.rst:509
#: 4fdd1def43b540f98a339812d0252325
msgid "References"
msgstr ""
