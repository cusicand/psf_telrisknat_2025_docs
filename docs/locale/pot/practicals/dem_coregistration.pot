# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, PSF TelRiskNat Optical team (D. Cusicanqui, P. Lacroix & R. Basantes)
# This file is distributed under the same license as the PSF TelRiskNat 2025 package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PSF TelRiskNat 2025 \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-14 06:10+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../source/practicals/dem_coregistration.rst:12
#: f3dc94837a9143d8bd9a3f1f3f146c47
msgid "Manual and automatic DEM co-registration"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:23
#: daa4dcad35a04f3f9c9b525d86e93432
msgid "**Diego CUSICANQUI**\\ :sup:`1` & **Ruben BASANTES**\\ :sup:`2`"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:25
#: c1ab78fc11fd41579754f0eee0363bcd
msgid "\\ :sup:`1` Univ. Grenoble Alpes, CNES, CNRS, IRD, Institut des Sciences de la Terre (ISTerre), Grenoble, France."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:27
#: eb6d3ebdab8649ab8e21a0446441793d
msgid "\\ :sup:`2` Universidad Yachay Tech, Escuela de Ciencias de la Tierra, Energía y Ambiente, San Miguel de Urcuquí, Ecuador"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:31
#: f86a560ba12a47cebdf3b72d107a042c
msgid "Copyright"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:33
#: 1ba8b1236b2c49e48ce3a375508fbcfc
msgid "*Document version 0.2, Last update: 2025-09-18*"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:35
#: b561809f32764dd28c0d8b92ea3da2b2
msgid "|copy| *PSF TelRIskNat 2025 Optical team (D. Cusicanqui, R. Basantes & P. Lacroix)*. This document and its contents are licensed under the Creative Commons Attribution 4.0 International License (`CC BY-NC-SA 4.0 <https://creativecommons.org/licenses/by-nc-sa/4.0/>`_)."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:38
#: 9c48a426f113474dbb379337526f8be6
msgid "License: CC BY-NC-SA 4.0"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:45
#: 1eed3612c19b4004aa03b776cb804d31
msgid "Learning objectives:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:47
#: adfb8a1b45ab44f0a0b2b6865f8f79bb
msgid "Understand the principles of co-registration technique."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:48
#: c0adadde1abe4c3fb3015845f57e98cf
msgid "Learn how to apply image co-registration techniques manually and automatically."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:50
#: ../../source/practicals/dem_coregistration.rst:197
#: ../../source/practicals/dem_coregistration.rst:350
#: 851a54946be24db0846bb22d97a99ef2
#: edeea3816c7347b49fba82426596dfde
#: 78a75077efa6478d93068022163ed598
msgid "Note"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:51
#: c3292d05676a488b8135f0c1beffb167
msgid "For this practice, you will use ASTER derived DEMs produced during the practice of :ref:`dem_generation_page` to study the region of Cordillera Blanca"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:54
#: 0ad8414ce3704b73be6e90c160f5fbde
msgid "Introduction"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:56
#: 14fa09307dee4a2ab64d161916f959e2
msgid "As mentioned previously in the practice :ref:`dem_generation_page`, quantification of mass changes is crucial to understand the fundamental processes that trigger mass-wasting events. Thus, a comparison of two or more 3D surfaces (e.g. Digital Elevation Models) could help to quantify these mass changes. However, DEM quality is highly dependent on several parameters, such as camera resolution, height flight, image quality, percentage of stereo coverage, etc., which play a major role in the quality of the DEMs and how they represent the 3D relief. Nowadays, there are several tools to generate DEMs, most of them in an automatic way. Because DEMs are the primary source for mass changes estimations, it is very important to assess the quality of DEMs, to avoid misinterpretations on the results."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:58
#: 13cb422bc697486084aa14e7616d65aa
msgid "During the automatic DEM generation, there are several sources of error that can affect the final DEM, for example translation and/or rational displacements on the spatial reference, as well as scale variations. In this practice, you will focus on the ``co-registration`` procedure used to adjust geometrically a pair of a DEMs. This method fits all DEMs regardless of the technique by which they were generated. For our example, we will use two DEMs automatically generated from ASTER optical images acquired on two different dates. After a brief description of the theoretical basis of the methodology, you will carry on in two hands-on co-registering exercises, the first based on an excel worksheet that will help you understand **how the co-registering works**, and the second will teach you **how you can automate the co-registration procedure** based on the application of Python libraries."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:63
#: 997d5087bc3c4242aee6a8d1338142aa
msgid "About DEM co-registration"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:65
#: 23f49b185d3c479fa026e9b04c9d5476
msgid "Based on the results of the practice :ref:`section_dems_dod`, you may notice that all east- and northeast (southwest)-facing slopes have strong positive (negative) differences in surface elevation :numref:`fig-dod-bias`. This indicates some kind of systematic bias between the two DEMs used to calculate the DEM difference. This type of bias is usually due to slight horizontal (EW or NS) and vertical shifts in one or both of the DEMs :numref:`fig-dod-bias`, which cause misleading elevation changes, especially on steep slopes where you can have strong elevation differences in a few meters. In short, this means that the DEMs are spatially inconsistent."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:69
#: 64a084f3180e4172bb4ccc265d1f27a3
msgid "Difference of DEMs (DoD) generated from ASTER images using ASP between 2003 and 2023."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:74
#: 73f12ef6dc0c41028bd6bcb0f8653bbb
msgid "Difference of DEMs (DoD) generated from ASTER images using ASP between 2003 and 2023. Visualized in QGIS."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:76
#: 25374f9750654e5f94bbd7fd49a4adc3
msgid "To ensure a precise xyz alignment between the DEMs, an iterative method called co-registration proposed by :cite:p:`nuth2011` is commonly applied. This method is based on the elevation differences of the two misaligned DEMs, and it assumes that the surface elevation change is a function of the slope and the aspect of the terrain :numref:``."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:80
#: 53db9ecf91294ddc991d8bcd70174e55
msgid "Systematic slope bias due to misregistration"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:85
#: 400a37abb4924801befc843b13f2c8b4
msgid "Systematic bias in elevation due to slight shifts in one or both DEMs (from :cite:`nuth2011`)."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:87
#: 53f22b17238e4882bfbdc025deacd9c5
msgid "This 3D spatial correction takes the most accurate DEM as a geodetic reference, whereas the second DEM is compared with the reference and co-registered (i.e. shifted) according the follow relationship:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:89
#: d63a66ffc9844f9b9fa2cec07359f164
msgid "\\frac{dh}{\\tan(\\alpha)} = a\\,\\cos\\!\\bigl(b - \\omega\\bigr) + c"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:94
#: 27954785d1b642f9952f291f86215c5c
msgid "where ``a`` is the magnitude of the misalignment, ``b`` is the direction of the misalignment, and ``c`` is the mean elevation bias. Then, the  adjustment factors are computed as follow:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:96
#: d034d818fae948ab9c2a4148c34f5f1c
msgid "\\begin{aligned}\n"
"\\Delta x &= a\\,\\sin(b),\\\\\n"
"\\Delta y &= a\\,\\cos(b),\\\\\n"
"\\Delta z &= \\frac{c}{\\tan(\\bar{\\alpha})}.\n"
"\\end{aligned}"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:105
#: f4b2a421d99946ca916fe472243fa8e6
msgid "where ``Δx``, ``Δy``, and ``Δz`` are the horizontal (East-West and North-South) and vertical shifts, respectively, and ``\\bar{\\alpha}`` is the mean slope of the terrain. The process is repeated iteratively until the adjustment factors converge to zero (i.e., no further improvement in the alignment). The method assumes that the horizontal shifts are small compared to the pixel size of the DEMs, and that there are no significant elevation changes between the two acquisition dates."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:107
#: ../../source/practicals/dem_coregistration.rst:123
#: ../../source/practicals/dem_coregistration.rst:323
#: 5500558e58434b2391ed230288646c9b
#: cd28bb1a0c9e48e6ae7a6d2e00aeb30f
#: f4dddd4cd22049daabd0cb95e8d41760
msgid "Important"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:108
#: cbdbcfc9d86a4ce9a7396fac5e6f6669
msgid "For a detailed explanation of the method:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:110
#: b2c05f0e5cac4a88aed6c8fc2c6852fb
msgid "Nuth, C. and Kääb, A. (2011): Co-registration and bias corrections of satellite elevation data sets for quantifying glacier thickness change, The Cryosphere, 5, 271-290, https://doi.org/10.5194/tc-5-271-2011."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:113
#: 82a99963880c420bb26cfc271798b1f7
msgid "Practice"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:116
#: 21c598e2ef904b4bb74e2626d6dbee01
msgid "Manual co-registration"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:119
#: a3644c7c053f4ddc985162cc2f302d48
msgid "Data inspection"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:121
#: 197b9922d8f14377ab37039462b64be9
msgid "For the first part of the exercise, you will use **QGIS and Excel** as the main softwares. This practice should be done in a computer with **Windows OS**."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:124
#: 7cbfc54952d74844b6af9c9522ead781
msgid "Download the data provided for this practice here `Download data exercise 4 <https://filesender.renater.fr/download.php?token=ea958f24-271a-447d-993a-25e668f9df63&files_ids=60632668>`_."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:126
#: c6e91a49fe7e4404b1cf31f1a50db2b0
msgid "First of all, you will open the ``DoD 2023-2003.tif`` :numref:`fig-dod-bias` into QGIS and you will explore the data by looking at the histogram values of the DoD values :numref:`fig_dod-histogram`. To do this, open the ``Layer Styling toolbar`` and click on ``compute histogram``. By analyzing the histogram, you will first note that the values of the DoD raster are concentrated around 0. However, when you zoom on the pic of the histogram, you can see that there is a slight shift of around **~10 m**."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:130
#: 80846d9571774d56858c4617394d3ec0
msgid "Histogram of the DoD values."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:135
#: 56e1c95135fc4daba6f419bae63f003a
msgid "Histogram of the DoD values ``DoD_2023-2003.tif`` file."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:138
#: 2a44f598de034b7d80a8b5d13f310d62
msgid "Aspect and slope calculation"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:140
#: a87f4798f2954cef9020d0898760a21f
msgid "In order to be able to use the co-registration procedure, you need first to compute ``slope`` and ``aspect``. To do so in QGIS, please go to the toolbar section and within GDAL tools, you will find ``Aspect`` and ``Slope`` functions respectively. Since you are using the 2023 DEM as reference, for that procedure you will use the DEM corresponding to the 2003. The results should look very similar to :numref:`fig_slope_aspect`."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:144
#: 6bc3480d256d4b2587314893a91d1f24
msgid "Slope and aspect maps."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:149
#: 82c05148fed74e21a40dabf91d28f3eb
msgid "Slope (left) and aspect (right) maps calculated from the 2003 DEM."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:152
#: acd4b868a0dd4355a9f8d8c60d6773a0
msgid "Random sampling of points"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:154
#: 919146dfd8c0425f93ccc318cf035348
msgid "Once those results are generated, you will have to generate ``point samples`` from where coregistration will be calculated. To do so, you have to go to ``Vector -> Research Tools -> Random points in Extent``. By using this tool :numref:`fig_random-points_generation`, you will randomly generate 10 000 points shapefile based on the same extent of the Difference of DEM's. The results of this procedure should look like in :numref:`fig_generated_points`."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:158
#: 41d059be900a40ae83fe869b1a794941
msgid "Random points generation."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:163
#: fadde60d8e754be393be9ab1f275668c
msgid "Random points generation using QGIS."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:167
#: f106f7beb3da4379afd179272aec4a3f
msgid "Generated random points."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:172
#: 2dee09f3e74449d0a554c7aee646a7ad
msgid "Generated random points over the DoD raster."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:175
#: bee321568ed94ab599780275e9364ef0
msgid "Sampling the values of the rasters"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:177
#: d85a74805d284ab18ffde76f6f2aa458
msgid "Once the points are generated, you will have to extract the values of the ``DoD 2023-2003``, ``slope`` and ``aspect`` rasters to the points. To do so, you will use the ``Point Sampling Tools plugin`` in QGIS.  If you don't have this plugin installed, please refer to the section ``Plugin -> Manage and Install Plugins, and type Point Sampling Tool``. This plugin takes one point vector shapefile and several raster files to extract the value of the overlaid pixel, from the selected rasters. More information on the `official webpage <https://plugins.qgis.org/plugins/pointsamplingtool/>`_. You have to select the ``Random_points.shp`` file as well the raster files :numref:`fig_point-sampling-tool`. Once the layers are selected, you can rename the columns to keep the column names clear and short :numref:`fig_point-sampling-tool`. As a result, you will obtain a new shapefile that you will rename as ``Random_points_sample.shp`` but this time, you will find in the attribute table the columns you modified previously containing the pixel values from raster files :numref:`fig_point-sampling-tool`."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:181
#: 6d64ec627bcc48d4a77bdd17ef27eecd
msgid "Point Sampling Tool plugin."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:186
#: c7bf9fa99ff947bdbeca7945099e9d77
msgid "Parameters on point sampling tool in QGIS."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:189
#: c152251367724440838b36d59003134b
msgid "Filtering point data with null values"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:191
#: e602baa007144cd1ad6f61c2a5dfec8d
msgid "As you may notice in the :numref:`fig_generated_points` and :numref:`fig_point-sampling-tool`, there are several points which are located in empty areas, close to the image borders, for instance. These ``empty points`` or points containing ``missing (null)`` values, must be filtered/removed since they are not useful for the coregistration stage. To do so, you will open the attribute table of the ``Random_points_sample.shp`` and open the ``Select features using an expression tool``. This option allows us to select the features by filling certain conditions (e.g., between a range of values, if values exist or not, etc). For this case, you will search those values with missing or null values inside the three columns (i.e., aspect, slope, dod_23-03). Inside ``Select features`` windows, you can have access to the columns by clicking in the Fields and Values option as well as the ``Operators`` that will be used to meet the searched conditions :numref:`fig_filtering_points`. Inside the box expression type the expression written in :numref:`fig_filtering_points`."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:198
#: b4a33b9709804e998e8154aa59cbf1e6
msgid "``aspect``, ``slope`` and ``dod_23-03`` = the fields or columns to be evaluated."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:199
#: f494ca7612b946ba9977e8b7ab067220
msgid "``is`` = in the operator/evaluator which compares each row of the columns selected previously."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:200
#: 588b689581304e5cba4038a6bd312b84
msgid "``NULL`` = is the value of the expression to be fulfilled."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:201
#: 3562ac8681da4e6aad5d1d98e580e514
msgid "``OR`` = is the logical operator to allow us to select several columns and check if the condition is filled in one column in any column."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:203
#: ../../source/practicals/dem_coregistration.rst:502
#: ../../source/practicals/dem_coregistration.rst:542
#: 678cc957c98d43de8668f6f46bd1d63a
#: 40349c83feaf4523bab0410f89332ce9
#: 381987e8dadb41d49bedb0fc802fb71c
msgid "Questions for discussion"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:206
#: b2ea5923ddd146cab1f86595fe57f7a2
msgid "Why do we use the ``OR`` operator instead of ``AND``?"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:208
#: 9002dafa55ee484985a0fe5d85d98a9a
msgid "By clicking on ``Select features``, QGIS will select all features who meet the conditions for the three columns. The selection returns ~ 3830 points features. Since the point features were generated randomly, the selected points may differ for you. Finally, once you have selected the points, the final step is to delete them. To do so, you will Edit the points features and click on ``Delete selected``. By doing so, we have reduced the initial point sample from 10 000 to 6 100 points. The results must look like :numref:`fig_filtering_points`."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:212
#: ad0bc9a631bd4d78a3c25930476d49e2
msgid "Filtering points with null values."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:217
#: ebec65966df44dd2b2eb3b9b378c2ad9
msgid "Filtering points with null values using the expression tool in QGIS."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:220
#: d32061a94ad14492a31e8b5a6c6ea3db
msgid "Filtering point with glacier outlines"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:222
#: af597f4780324fd1aedbe7a30ef3f0d5
msgid "Since the co-registration stage is based on those areas which have not suffered strong geomorphological changes (hereafter called as stable areas), you need to remove those points which are located within those areas which have strongly changed (i.e., glaciers, landslides, etc). So, you need to mask or remove those points within glacier outlines. To do so, you will use Randolph Glacier Inventory (RGI) version 7.0, as the main data source of glacier outlines. Please refer to the `RGI documentation <https://www.glims.org/RGI/>`_ for more details about worldwide glacier inventory."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:224
#: 26702d84be36406aa2fdae18b4352ff1
msgid "Once you have downloaded the shapefile of the glacier outlines, you will open it in QGIS and you will check that the coordinate reference system (CRS) is the same as your other layers. If not, you will have to reproject it to the same CRS (i.e. ``WGS84 UTM Zone 18S``). Then, you will use the ``Select by location`` tool in QGIS to select those points within the glacier outlines :numref:`fig_select_by_location`. In this case, you will select features from ``Random_points_sample.shp`` that intersect with features from ``rgi60_SouthAmerica.shp``. By clicking on ``Run``, QGIS will select all points within the glacier outlines. Finally, you will delete those selected points by editing the layer and clicking on ``Delete selected``. The final result should look like :numref:`fig_select_by_location`."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:228
#: 2f77f813292e4398a6554d27f4b44ef9
msgid "Select points within glacier outlines."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:233
#: d38056a03c4b4a23b6a762109b5b3a76
msgid "Select points within glacier outlines using the Select by location tool in QGIS."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:236
#: 7ef5296cec424303920f5cd43a73710f
msgid "Exporting the point data to Excel"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:238
#: 48a649b59c4142d6bc58a0a3312ea86a
msgid "As a final step, you will export the attribute table of the remaining points. To do so, you will make right click on the layer ``Random_points_sample.shp`` and you will click on ``Save Features As…``. Within the save vector layer menu you will change the format as ``MS Office Open XML spreadsheet [XLSX]``, which is the format excel. Finally, select the desired directory and click on OK; This procedure will export the entire attribute table in format excel."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:242
#: 2e99fbda8a454b20bbf9048d25ad2a87
msgid "Exporting point data to Excel."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:247
#: bd6ebd464dc84d09a67e3130f30c0196
msgid "Exporting point data to Excel from QGIS."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:250
#: 5ab7bb9ba55d4867b7f4d8746041e1a8
msgid "Co-registration in Excel"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:252
#: fb20d7e681f7404a8f5c4882999305ef
msgid "Make sure that Excel has ``Solver`` installed. For general instructions on how load the Solver `Add-in in Excel <http://office.microsoft.com/en-us/excel-help/introduction-to-optimization-with-the-excel-solver-tool-HA001124595.aspx>`_."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:254
#: 9ea2bcf1b0ff4f8c86328b48cf8a70a2
msgid "Then open the ``DEM Co-Registration Excel Tool`` provided by Nuth and Kaab (2011). Can be downloaded here:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:256
#: 4b8da310291141789f2945c4bb137e66
msgid "Thirdly, open the random point sample excel file. **Remember, for each record an elevation difference, and its corresponding slope and aspect values are mandatory**. Copy the corresponding values and paste them in the columns A, B and C ``INSERT RANDOM SAMPLE HERE``. It might be necessary to adjust the formulas in columns D, E, F and RMSE in cell C6 to account for the size of the sample you have pasted."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:260
#: 2f41f49f0f5249c1be0fa0240b6313df
msgid "DEM co-registration Excel tool."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:265
#: e5afde3d83504724bd3a7e726fc28593
msgid "DEM Co-Registration Excel Tool. The blue box shows the columns where the data input should be inserted."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:267
#: 20f9ac91586849608f9d9e1ef1bdf7e5
msgid "Fourthly, use Solver to determine the co-registration parameters ``a`` in cell ``C3``, ``b`` in cell ``C4``, and ``c`` in cell ``C5``. To do so, set the parameters equal to 1 (initial value)."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:271
#: 3ed61fabbc504809ae78d3b566d0c76c
msgid "Solver parameters."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:276
#: 164e7734138647a7814697dbb1f87d52
msgid "Solver parameters to be set in the DEM Co-Registration Excel Tool."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:278
#: b518ec91358f413bb35e5e454cb32641
msgid "Then, open solver configure the parameters as follows :numref:`fig_solver_configuration`, Set ``Target Cell = C6``, ``Equal to = Min``, By Changing Cells ``C3:C5`` and finally click on ``Solve``."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:282
#: 1a4c52bfeeb647369027bec9ba13c28d
msgid "Solver configuration."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:287
#: 595af0ec13fd42bf8e0ad9058122b87c
msgid "Solver configuration to be set in the DEM Co-Registration Excel Tool."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:289
#: a62a84353637493cacfe9bc1a3326416
msgid "The minimized solution is located in ``C3``, ``C4``, and ``C5``. And the displacement values for geometrically adjustment are in ``K4``, ``K5`` and ``K6``."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:293
#: 591ef5a54720448188c38f13aa45a006
msgid "Solver results."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:298
#: da16757f2ec84020ad4c88ab58886c08
msgid "Solver results in the DEM Co-Registration Excel Tool."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:300
#: e7f2e4d7b52941aa8953bc797db91a19
msgid "Finally, displacement ``x``, ``y``, ``z`` vector of correction is applied to the corner coordinates of the un-registered DEM. To this end you can use any QGIS through the translate tool. As we mention before, this is an iterative process, so repeat all the procedure until the red line fits through the points (:numref:`fig_iteration_process`). A good proxy to choose to stop the iteration is when the ``RMSE`` is improved up to 2% or if the magnitude of the displacement vector is less than 0.5 m."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:304
#: 1f3b16cc0c534f73806a7ea359cef5e9
msgid "Iteration process."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:309
#: 1a7a8b50f3214d01afd333f8ee97fe94
msgid "Comparison of the elevation difference by the tangent of the slope, before and after coregistration, and the fitted cosine curve (red line). Example of the resulting histograms of the residuals after adjustment for bias."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:311
#: ea9e1e8a40504a3e8039ef42be7b97f8
msgid "Tip"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:312
#: 78f57a59ae244d898aa44c1fd716f818
msgid "Dem co-registration must be applied over stable rocky areas, so unstable areas should be removed."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:313
#: f529f9aac1aa4b84b685ee055eeeb58b
msgid "The solution is most well defined for sample points on steeper slopes. Since ``dh/tan(slope)`` cannot be defined flatted areas, zero slopes must be eliminated."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:314
#: d4beae107a9247fca6be00b2bfaf59e1
msgid "A conic structure such as volcanos are perfect because it covers all terrain aspects as long as there is a sufficient amount of elevation difference samples."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:315
#: 174c193759634f2f84dc8dd6996d0a2a
msgid "Usually, less than 10000 samples are sufficient, although for the DEM Co-Registration excel tool it is possible to have up to 65000."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:316
#: 672703f6494140589aff858951a296c1
msgid "Using this tool, convergence is commonly obtained with less than ten iterations, depending the samples (number and distribution) and the fitting algorithm."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:319
#: b79ec0af6a244f5f950d0efa6b245626
msgid "Automatic co-registration"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:321
#: e47affc6930c4128b3d399abc72de797
msgid "In this second part of the exercise, you will learn how to apply the co-registration procedure in an automatic way using Python libraries. The main advantage of using this method is that it is not necessary to extract random points, filter them, export them to excel, etc. Everything is done in a single script."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:324
#: 88e31f65aee54467b35643c6cc757acb
msgid "Download the data provided for this practice by running the following commands in your terminal:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:326
#: 3cdfc323078a486f9076ccf2b6f718a4
msgid "Go to the ``/psf_telrisknat_2025_docs/data/`` folder and run:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:333
#: 891ec32982d342cf8352ec0129d36ed7
msgid "Activation of the conda environment"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:335
#: c918ab4b3c0041aa9a39e35370c6584e
msgid "First of all, you will activate the conda environment that you created in the practice :ref:`dem_generation_page`. To do so, open a terminal and type:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:342
#: 28be9818fca647b891215ae15df97056
msgid "Get familiar with ``Geoutils`` library"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:344
#: 25f0985e384b4a14aa7a393a8edb89ec
msgid "Before starting with the co-registration procedure, you will get familiar with the ``Geoutils`` library. To do so, you will open a jupyter notebook by typing in the terminal:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:351
#: ac05abd8111b46ae881f991c067da703
msgid "If you have some problems to open the jupyter notebook or is not installed, just run in your terminal:"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:357
#: f1bf6a6671a14faf8ff3007fae842c92
msgid "This command will open a new tab in your web browser. Open the scrip called ``geoutils_introduction.ipynb`` provided in the data folder. This script will help you to understand how to use the main functions of the ``Geoutils`` library. Please, follow all the steps of the script."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:360
#: 674476d5f89e4b66b46b5be698cb5b58
msgid "Co-registration procedure using ``xDEM``"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:362
#: a1702518e30d435084d1e65f5d3997aa
msgid "Now, you will learn how to apply the co-registration procedure using the ``xDEM`` library. For this practice, you will use the same DEMs generated in the practice :ref:`dem_generation_page`. The entire procedure is explained in the jupyter notebook called ``dem_coregistration.ipynb`` provided in the data folder."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:365
#: 431f1098c0e24a959c808c4d9136476d
msgid "Importing libraries and loading data"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:367
#: ad88ff9c4df2476fa333a2315c507506
msgid "First, you should import the necessary libraries."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:380
#: 825f901fc0c24b0f93a07b9b0e5cc43d
msgid "Then, you will load the DEMs at once, croppping them to the same and reprojecting them to the same CRS."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:390
#: 5e0e51af0fb4422980a2fd21b0720f65
msgid "You can use the following code to visualize the DEMs."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:404
#: d62577eec7dc4d24b21e731c2b109d31
msgid "Comparison of the three DEMs showing elevation data."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:406
#: 0ece78974ba142eca5c9ae6866f9943d
msgid "Then, you will also load and plot the glacier outlines."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:413
#: 2516f9f3020141418bc21ba62f740103
msgid "You may note that the ``Glaciares_Peru.shp`` layer contains nation-wide glacier inventory. However, glacier inventory uses different projection systems (e.g. WGS84). To solve this, you have to reproject the shapefile. In addition, we are working in the Cordillera Blanca region. So, you have to crop the shapefile to be compatible with the raster extent."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:425
#: 9fd216b473df487aaac48067b66fa5a6
msgid "Glacier outlines of the Cordillera Blanca region."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:428
#: 91d6dfaf964b4b27880f4e6f1e6b400d
msgid "Computting the difference of DEMs (DoD)"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:430
#: 97bb545ccf7744298d7fb2f97b05234f
msgid "Now, you will calculate the difference of DEMs (DoD) between the two DEMs and plot it."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:451
#: d0ebabcf1dce44f9934e459a59b562ad
msgid "Difference of DEMs (DoD) between 2023 and 2003."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:454
#: 90ad89032a7944fab060dddba3bedca4
msgid "Generating stable areas mask"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:456
#: c6ad8ee3a7794d23a4a67822195199ef
msgid "Now, you have to select stable areas to compute the co-registration parameters. The selection os stable areas is done by masking everything that is not stable, i.e., glaciers and steep slopes. Regarding glacier mask, you can use the glacier outlines loaded previously to mask all glaciers."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:462
#: 73fda87aefc648f5b3f7a151a85afab5
msgid "Regarding slopes, you will use the reference DEM (``COPDEM_30m.tif``) to compute the slopes as it does not contain large voids. In this case, you will mask all slopes larger than 40 degrees."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:470
#: 7023c1964d3542fcadc6335fdfa26274
msgid "Finally, you will combine all masks to get the stable areas."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:483
#: 7f6f0e6ba62b4612b252a577264cbb1f
msgid "Stable areas (True values) used for the co-registration procedure."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:486
#: 51197ecb46b54dfc89750a6628381ba7
msgid "Applying the co-registration"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:488
#: 6bea6db3b163415d94e7a62addc961b3
msgid "Now, you are ready to apply the co-registration procedure. For this excercise, you will use Nuth and Kaab (2011):cite:`nuth2011` method implemented in the ``xDEM`` library. First, we need to define the coregistration function. Then we estimate the coregistration needed between our two ASTER DEMs. Finally, we apply that coregistration to the 2003 DEM."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:496
#: 3f8d8033870c4ec8a709d9971ef0fac3
msgid "You can visualize the results of the co-registration procedure by inspecting metadata of the coreg object."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:505
#: 417ecb65fa0b4fecaa2f5d348ba37557
msgid "What are the estimated shifts in x, y and z?"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:506
#: 4b3dc6a5f53640c8a8967753a653640f
msgid "How many iterations were needed to converge?"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:508
#: 7f03376673a24dc7ac70c0b2abf48288
msgid "Now, you can compute the DoD between the co-registered 2003 DEM and the 2023 DEM and plot it."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:540
#: 589bdc8d162e4eedb8b5b01efd3d72fc
msgid "Comparison of the DoD before (left) and after (middle) co-registration, and the histograms of the DoD values (right)."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:545
#: 7e3495db9d6c4645a59ad222057f25f6
msgid "How has the DoD changed after co-registration?"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:546
#: 465fed23732149f08bdcd21969cc87b4
msgid "How has the distribution of DoD values changed after co-registration?"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:549
#: 3c9a48832df4469a92965e689e409f77
msgid "Computting statistics on stable areas"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:551
#: 6ff8faac0e424648ac126b1f7aecdbdb
msgid "You can also compute some statistics on the stable areas before and after co-registration."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:573
#: 2fca46d0079442bf830875adf2bfffe8
msgid "Saving the results"
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:575
#: 941b82b235cc4118be53162c35520fab
msgid "Finally, you can save the co-registered DEM."
msgstr ""

#: ../../source/practicals/dem_coregistration.rst:583
#: a789366d55eb4174a2a476157c7779f1
msgid "References"
msgstr ""
